{"version":3,"sources":["pages/user/pages/Auth.module.css","pages/add-point/pages/AddPoint.module.css","pages/add-point/components/AddPointPanel.module.css","pages/main/components/SidePanel.module.css","pages/add-point/components/DaySection.module.css","pages/add-point/components/MonthSection.module.css","pages/main/components/Map.module.css","pages/main/components/MapPoint.module.css","shared/components/Navigation/MainNavigation.module.css","pages/main/pages/Main.module.css","pages/add-point/components/AddPointMap.module.css","pages/add-point/components/Point.module.css","shared/hooks/auth-hook.js","logo.svg","shared/context/auth-context.js","shared/hooks/http-hook.js","pages/user/pages/Auth.js","assets/red-marker.svg","assets/blue-marker.svg","pages/main/components/Icon.js","pages/main/components/Map.js","shared/components/Navigation/MainNavigation.js","pages/main/components/Filter.js","shared/util/DataMap.js","pages/main/components/info-components/DetailLimitInfo.js","pages/main/components/info-components/SimpleLimitInfo.js","pages/main/components/PointInfoCard.js","pages/main/components/TripsCard.js","pages/main/components/SidePanel.js","pages/main/pages/Main.js","pages/add-point/components/Point.js","pages/add-point/components/AddPointMap.js","pages/add-point/components/DaySection.js","pages/add-point/components/MonthSection.js","pages/add-point/components/AddPointPanel.js","pages/add-point/pages/AddPoint.js","App.js","reportWebVitals.js","index.js","pages/main/components/Filter.module.css","pages/main/components/PointInfoCard.module.css","pages/main/components/TripsCard.module.css","pages/main/components/info-components/DetailLimitInfo.module.css","pages/main/components/info-components/SimpleLimitInfo.module.css"],"names":["module","exports","logoutTimer","AuthContext","createContext","isLoggedIn","userId","token","login","logout","useHttpClient","useState","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortControl","AbortController","current","push","fullUrl","process","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","layout","labelCol","span","wrapperCol","tailLayout","offset","reducer","state","action","type","isSignup","authTitle","submitBtn","sideBtn","Auth","auth","useContext","useHistory","useReducer","authState","dispatch","loginHandler","values","JSON","stringify","email","password","console","log","setTimeout","signupHandler","name","className","styles","pageWrapper","formWrapper","formTitle","initialValues","remember","onFinish","onFinishFailed","errorInfo","Item","label","rules","required","Password","loading","style","marginRight","htmlType","onClick","redIcon","L","Icon","iconUrl","markerRed","iconRetinaUrl","popupAnchor","iconSize","iconAnchor","blueIcon","markerBlue","Map","props","currentZoom","clickId","setClickId","height","width","MapContainer","window","innerHeight","center","lat","lng","zoom","zoomControl","scrollWheelZoom","TileLayer","attribution","ZoomControl","position","pointsList","length","map","info","index","Marker","icon","id","eventHandlers","click","onClickIcon","clickIcon","MainNavigation","Menu","SubMenu","e","menu","defaultSelectedKeys","defaultOpenKeys","mode","ItemGroup","title","to","Option","Select","Filter","day","setDay","startHour","setStartHour","endHour","setEndHour","showExp","setShowExp","ifDetailFilter","setIfDetailFilter","filterHour","setFilterHour","filterWrapper","prev","simpleFilterWrapper","simpleFilter","simpleFilterPlusMinus","num","simpleFilterMiddle","onReset","currentDate","Date","simpleDay","getDay","simpleStartHour","getHours","simpleEndHour","onFilter","simpleReset","simpleExpand","inputsWrapper","Group","compact","onChange","value","defaultValue","marginLeft","Array","fill","el","i","borderLeft","borderRight","pointerEvents","placeholder","disabled","btnWrapper","MONTH_MAP","0","1","2","3","4","5","6","7","8","9","10","11","DAY_MAP","FULL_DAY_MAP","DetailLimitInfo","limit","month","monthWrapper","monthStart","monthEnd","spliter","dayWrapper","dayTitle","timeStyle","time","startMinute","endMinute","SimpleLimitInfo","listMonth","getMonth","showMonthFlag","j","color","fontSize","listDay","PointInfoCard","isDetailInfo","setIsDetailInfo","infoCardWrapper","spotsWrapper","numSpots","descriptionWrapper","wordWrap","description","positionWrapper","href","creator","danger","onDeleteSpot","BtnWrapper","BtnDirection","BtnAdd","onAddTrip","TripsCard","tripsWrapper","pointsWrapper","trips","points","BtnReset","onResetTrips","onTripsGo","SidePanel","successState","setSuccessState","showAds","setShowAds","setTrips","deleteSpot","Authorization","advertisement","textDecoration","filterInfo","googleUrl","location","marginTop","Main","setInfo","filteredPointsList","setFilteredPointsList","originPointsList","setOriginPointsList","spot","sendPointsReq","includeWeekDay","dayFilter","timeStartFilter","timeEndFilter","unFilteredList","filteredList","flag","item","sid","newArray","point","Point","useMapEvents","onClickPoint","latlng","locate","locationfound","AddPointMap","setPosition","onChoosePoint","DaySection","showAdd","startTime","setStartTime","endTime","setEndTime","timeArray","setTimeArray","daySectionWrapper","valueString","slice","concat","onSubmitTime","MonthSection","dayArray","setDayArray","selectedDay","setSelectedDay","submitedTime","onSubmitDay","monthSectionWrapper","monthTitle","dayNum","RangePicker","DatePicker","AddPointPanel","monthInfo","setMonthInfo","monthArray","setMonthArray","setNumSpots","setDescription","ifInputError","inputError","setInputError","sendSuccessful","reset","submitedDay","addPointWrapper","monthIndex","marginBottom","date","dateString","split","picker","bordered","addonBefore","target","emptyFlag","onSubmitMonth","AddPoint","setPoint","setSendSuccessful","postPoint","noInfoWrapper","noInfoSection","App","routes","setToken","tokenTimeOut","setTokenTimeOut","setUserId","uid","expirationDate","tokenExpirationDate","getTime","localStorage","setItem","expiration","toISOString","removeItem","remainingTime","clearTimeout","storedData","parse","getItem","useAuth","path","exact","Provider","display","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d5d3f067.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"Auth_pageWrapper__1Pm6y\",\"formWrapper\":\"Auth_formWrapper__3I0l-\",\"formTitle\":\"Auth_formTitle__1GJoM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"AddPoint_pageWrapper__30xtN\",\"noInfoWrapper\":\"AddPoint_noInfoWrapper__2h-MF\",\"noInfoSection\":\"AddPoint_noInfoSection__3b07K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"AddPointPanel_pageWrapper__2_XrY\",\"positionWrapper\":\"AddPointPanel_positionWrapper__2SzJY\",\"addPointWrapper\":\"AddPointPanel_addPointWrapper__fU6cO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"SidePanel_pageWrapper__1fJhL\",\"advertisement\":\"SidePanel_advertisement__1v1Zg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"daySectionWrapper\":\"DaySection_daySectionWrapper__11eth\",\"dayTitle\":\"DaySection_dayTitle__LeLSK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"monthSectionWrapper\":\"MonthSection_monthSectionWrapper__17od0\",\"monthTitle\":\"MonthSection_monthTitle__3ZJ45\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"Map_pageWrapper__8XAQo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pin\":\"MapPoint_pin__1VJWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"MainNavigation_menu__ArWsl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"Main_pageWrapper__33Oqw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"AddPointMap_pageWrapper__2UzRL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pin\":\"Point_pin__3g0Rv\",\"bounce\":\"Point_bounce__1EeBc\",\"pulse\":\"Point_pulse__3Awnq\",\"pulsate\":\"Point_pulsate__1Wqz7\"};","import {useCallback, useEffect, useState} from \"react\";\r\n\r\nlet logoutTimer;\r\n\r\nexport const useAuth = () => {\r\n    console.log('app is rerendering')\r\n\r\n    const [token, setToken] = useState(false)\r\n    const [tokenTimeOut, setTokenTimeOut] = useState()\r\n    const [userId, setUserId] = useState()\r\n\r\n    /**\r\n     * put userId, token, and expirationDate in it\r\n     * @type {function(*=, *=, *=): void}\r\n     */\r\n    const login = useCallback((uid, token, expirationDate) => {\r\n        console.log(uid)\r\n        setUserId(uid)\r\n        setToken(token)\r\n        const tokenExpirationDate = expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60)\r\n        setTokenTimeOut(tokenExpirationDate)\r\n        localStorage.setItem('userData', JSON.stringify({\r\n            userId: uid,\r\n            token: token,\r\n            expiration: tokenExpirationDate.toISOString()\r\n        }))\r\n    }, [])\r\n\r\n    const logout = useCallback(() => {\r\n        setToken(token)\r\n        setTokenTimeOut(null)\r\n        setUserId(null)\r\n        localStorage.removeItem('userData')\r\n\r\n    }, [])\r\n\r\n    // auto timeout login\r\n    useEffect(() => {\r\n        console.log('timeout reached')\r\n        if (token && tokenTimeOut) {\r\n            const remainingTime = tokenTimeOut.getTime() - new Date().getTime()\r\n            logoutTimer = setTimeout(logout, remainingTime)\r\n        } else {\r\n            clearTimeout(logoutTimer)\r\n        }\r\n    },[token, logout, tokenTimeOut])\r\n\r\n    // auto login\r\n    useEffect(() => {\r\n        const storedData = JSON.parse(localStorage.getItem('userData'))\r\n        if (storedData &&\r\n            storedData.token &&\r\n            new Date(storedData.expiration) > new Date()\r\n        ) {\r\n            login(storedData.userId, storedData.token)\r\n        }\r\n    }, [login])\r\n\r\n    return {\r\n        token,\r\n        login,\r\n        logout,\r\n        userId\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import {createContext} from 'react'\r\n\r\nexport const AuthContext = createContext({\r\n    isLoggedIn: false,\r\n    userId: null,\r\n    token: null,\r\n    login: () => {\r\n    },\r\n\r\n    logout: () => {\r\n    }\r\n})\r\n","import { useState, useCallback, useEffect, useRef } from 'react'\r\n\r\nexport const useHttpClient = () => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [error, setError] = useState()\r\n\r\n    const activeHttpRequests = useRef([])\r\n\r\n    const sendRequest = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n        setIsLoading(true)\r\n        const httpAbortControl = new AbortController()\r\n        activeHttpRequests.current.push(httpAbortControl)\r\n        let fullUrl = process.env.REACT_APP_API_URL + url\r\n            try {\r\n                const response = await fetch(fullUrl, {\r\n                    method,\r\n                    body,\r\n                    headers,\r\n                    signal: httpAbortControl.signal\r\n                })\r\n\r\n                const responseData = await response.json()\r\n\r\n                activeHttpRequests.current = activeHttpRequests.current.filter(\r\n                    reqCtrl => reqCtrl !== httpAbortControl\r\n                )\r\n\r\n                setIsLoading(false)\r\n\r\n                if (!response.ok) {\r\n                    throw new Error(responseData.message)\r\n                }\r\n\r\n                return responseData\r\n            } catch (err) {\r\n                setError(err.message)\r\n                setIsLoading(false)\r\n                throw err;\r\n            }\r\n        }, [])\r\n\r\n    const clearError = () => {\r\n        setError(null)\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort())\r\n        }\r\n    }, [])\r\n\r\n    return { isLoading, error, sendRequest, clearError }\r\n}\r\n","import React, { useContext, useState, useReducer } from 'react';\r\nimport { Form, Input, Button, Checkbox, Switch } from 'antd';\r\n\r\nimport styles from './Auth.module.css'\r\nimport { AuthContext } from \"../../../shared/context/auth-context\";\r\nimport { useHttpClient } from \"../../../shared/hooks/http-hook\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useAuth} from \"../../../shared/hooks/auth-hook\";\r\n\r\nconst layout = {\r\n    labelCol: {\r\n        span: 8,\r\n    },\r\n    wrapperCol: {\r\n        span: 16,\r\n    },\r\n};\r\nconst tailLayout = {\r\n    wrapperCol: {\r\n        offset: 8,\r\n        span: 16,\r\n    },\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'switch':\r\n            if (state.isSignup === false) {\r\n                return {\r\n                    isSignup: true,\r\n                    authTitle: 'Sign Up',\r\n                    submitBtn: 'Sign Up',\r\n                    sideBtn: 'Login'\r\n                }\r\n            } else {\r\n                return {\r\n                    isSignup: false,\r\n                    authTitle: 'Login',\r\n                    submitBtn: 'Login',\r\n                    sideBtn: 'Sign Up',\r\n                }\r\n            }\r\n    }\r\n}\r\n\r\nconst Auth = () => {\r\n    const auth = useContext(AuthContext)\r\n    const history = useHistory()\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n\r\n    const [authState, dispatch] = useReducer(reducer, {\r\n        isSignup: false,\r\n        authTitle: 'Login',\r\n        submitBtn: 'Login',\r\n        sideBtn: 'Sign Up',\r\n    })\r\n\r\n    const [isSignup, setIsSignup] = useState(false)\r\n\r\n    const onFinish = (values) => {\r\n        console.log('Success:', values);\r\n        if (authState.isSignup) {\r\n            signupHandler(values)\r\n        } else {\r\n            loginHandler(values)\r\n        }\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    const loginHandler = async (values) => {\r\n        try {\r\n            const responseData = await sendRequest('users/login', 'POST',\r\n                JSON.stringify({\r\n                    email: values.email,\r\n                    password: values.password\r\n                }),\r\n                {'Content-Type': 'application/json'}\r\n            )\r\n            auth.login(responseData.userId, responseData.token)\r\n            // console.log('signing in', responseData.weekObj)\r\n\r\n            // console.log(auth.userId)\r\n        } catch (e) {\r\n            console.log(e)\r\n            setTimeout(() => {\r\n                clearError()\r\n            },5000)\r\n        }\r\n    }\r\n\r\n    const switchState = () => {\r\n        dispatch({type: 'switch'})\r\n    }\r\n\r\n    const signupHandler = async (values) => {\r\n        try {\r\n            const responseData = await sendRequest('users/signup', 'POST',\r\n                JSON.stringify({\r\n                    name: values.name,\r\n                    email: values.email,\r\n                    password: values.password\r\n                }),\r\n                {'Content-Type': 'application/json'}\r\n            )\r\n        } catch (e) {\r\n            console.log(e)\r\n            setTimeout(() => {\r\n                clearError()\r\n            },5000)\r\n        }\r\n        await loginHandler(values)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <div className={styles.formWrapper}>\r\n                <div className={styles.formTitle}>{authState.authTitle}</div>\r\n                <Form\r\n                    {...layout}\r\n                    name=\"basic\"\r\n                    initialValues={{\r\n                        remember: true,\r\n                    }}\r\n                    onFinish={onFinish}\r\n                    onFinishFailed={onFinishFailed}\r\n                >\r\n\r\n                    {authState.isSignup && <Form.Item\r\n                        label=\"Name\"\r\n                        name=\"name\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please give your account a name!',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input/>\r\n                    </Form.Item>}\r\n\r\n                    <Form.Item\r\n                        label=\"Email\"\r\n                        name=\"email\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input your email!',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Password\"\r\n                        name=\"password\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input your password!',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item {...tailLayout}>\r\n                        <Button loading={isLoading} style={{marginRight: '10px'}} type=\"primary\" htmlType=\"submit\">\r\n                            {authState.submitBtn}\r\n                        </Button>\r\n                        <Button type=\"dark\" onClick={switchState} >\r\n                            {authState.sideBtn}\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Auth;\r\n","export default __webpack_public_path__ + \"static/media/red-marker.f117c780.svg\";","export default __webpack_public_path__ + \"static/media/blue-marker.3ead5115.svg\";","import L from 'leaflet';\r\nimport markerRed from \"../../../assets/red-marker.svg\";\r\nimport markerBlue from \"../../../assets/blue-marker.svg\";\r\n\r\nexport const redIcon = new L.Icon({\r\n    iconUrl: markerRed,\r\n    iconRetinaUrl: markerRed,\r\n    popupAnchor:  [-0, -0],\r\n    iconSize: [30,30],\r\n    iconAnchor: [15, 30]\r\n});\r\nexport const blueIcon = new L.Icon({\r\n    iconUrl: markerBlue,\r\n    iconRetinaUrl: markerBlue,\r\n    popupAnchor:  [-0, -0],\r\n    iconSize: [30,30],\r\n    iconAnchor: [15, 30]\r\n});","import React, {useEffect, useState} from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport { MapContainer, TileLayer, Marker, Popup, ZoomControl } from 'react-leaflet'\r\n\r\nimport styles from './Map.module.css'\r\nimport MapPoint from \"./MapPoint\";\r\nimport L from 'leaflet';\r\nimport markerRed from '../../../assets/red-marker.svg';\r\nimport markerBlue from '../../../assets/blue-marker.svg';\r\nimport { redIcon, blueIcon } from \"./Icon\";\r\n\r\nconst Map = (props) => {\r\n\r\n    const center = {\r\n            lat: 45.498478,\r\n            lng: -73.567705,\r\n        }\r\n    const zoom = 15\r\n\r\n    const [currentZoom, setCurrentZoom] = useState(zoom)\r\n    const [clickId,setClickId] = useState()\r\n\r\n\r\n    const clickMap = ({ x, y, lat, lng, event }) => {\r\n\r\n        console.log(lat,lng)\r\n    }\r\n    const setZoom = (zoomLeve) => {\r\n        setCurrentZoom(zoomLeve)\r\n    }\r\n\r\n    const clickIcon = (info) => {\r\n        setClickId(info.id)\r\n        props.onClickIcon(info)\r\n    }\r\n\r\n    const getMarkerIcon = (id) => {\r\n        if (id === clickId) {\r\n            return redIcon\r\n        }\r\n        return blueIcon\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <div style={{ height: `100%`, width: '100%' }}>\r\n                <MapContainer style={{ height: `${window.innerHeight}px`, width: '100%' }} center={center} zoom={zoom} zoomControl={false} scrollWheelZoom={true}>\r\n                    <TileLayer\r\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    />\r\n                    <ZoomControl position={\"bottomright\"}/>\r\n                    { currentZoom > 14 && props.pointsList && props.pointsList.length > 0 && props.pointsList.map((info, index) => {\r\n                        return (\r\n                            <Marker\r\n                                key={info.id}\r\n                                icon={getMarkerIcon(info.id)}\r\n                                position={{lat: info.lat, lng: info.lng}}\r\n                                eventHandlers={{\r\n                                    click: () => clickIcon(info),\r\n                                }}\r\n                            >\r\n                            </Marker>\r\n                        )\r\n                    })}\r\n                </MapContainer>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Map;\r\n","import React, { useContext } from 'react';\r\n\r\nimport { Menu } from 'antd';\r\nimport { AppstoreOutlined, MailOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom'\r\nimport { AuthContext } from \"../../context/auth-context\";\r\nimport {useAuth} from \"../../hooks/auth-hook\";\r\nimport styles from './MainNavigation.module.css'\r\n\r\nconst { SubMenu } = Menu;\r\n\r\n\r\n\r\nconst MainNavigation = () => {\r\n    const auth = useContext(AuthContext)\r\n\r\n    const handleClick = e => {\r\n        console.log('click ', e);\r\n    };\r\n\r\n    const logoutMenu = () => {\r\n        auth.logout()\r\n    }\r\n\r\n    return (\r\n        <Menu\r\n            onClick={handleClick}\r\n            className={styles.menu}\r\n            style={{  height: '100vh' }}\r\n            defaultSelectedKeys={['map']}\r\n            defaultOpenKeys={['sub1']}\r\n            mode=\"vertical\"\r\n        >\r\n            <Menu.ItemGroup key=\"main\" title=\"Main Menu\">\r\n                <Menu.Item key=\"map\">\r\n                    <Link to={'/'}>Map</Link>\r\n                </Menu.Item>\r\n                {auth.isLoggedIn && <Menu.Item key=\"addPoint\">\r\n                    <Link to={'/add-point'}>Add Spot</Link>\r\n                </Menu.Item>}\r\n            </Menu.ItemGroup>\r\n\r\n            <Menu.ItemGroup key=\"user\" title=\"User\">\r\n                {!auth.isLoggedIn && <Menu.Item key=\"login\">\r\n                    <Link to={'/login'}>Login</Link>\r\n                </Menu.Item>}\r\n                {auth.isLoggedIn && <Menu.Item key=\"logout\">\r\n                    <Link onClick={logoutMenu}>Log Out</Link>\r\n                </Menu.Item>}\r\n            </Menu.ItemGroup>\r\n        </Menu>\r\n    );\r\n};\r\n\r\nexport default MainNavigation;\r\n","import React, { useState } from 'react';\r\n\r\nimport { Input, Select, Button } from 'antd';\r\nimport { BsFillCaretDownFill, BsFillCaretUpFill, BsPlus, BsDash } from \"react-icons/bs\"\r\n\r\nimport styles from './Filter.module.css'\r\nconst { Option } = Select;\r\n\r\nconst Filter = (props) => {\r\n    const [day, setDay] = useState(1)\r\n    const [startHour, setStartHour] = useState(1)\r\n    const [endHour, setEndHour] = useState(23)\r\n    const [showExp, setShowExp] = useState(false)\r\n    const [ifDetailFilter, setIfDetailFilter] = useState(false)\r\n\r\n    const [filterHour, setFilterHour] = useState(1)\r\n\r\n\r\n    const filter = () => {\r\n        console.log(day,startHour,endHour)\r\n        props.onFilter({\r\n            day,\r\n            startHour,\r\n            endHour\r\n        })\r\n    }\r\n\r\n    const simpleFilter = () => {\r\n        props.onReset()\r\n        const currentDate = new Date()\r\n        const simpleDay = currentDate.getDay()\r\n        const simpleStartHour = currentDate.getHours()\r\n        const simpleEndHour = currentDate.getHours() + filterHour\r\n        console.log(simpleDay,simpleStartHour,simpleEndHour)\r\n        props.onFilter({\r\n            day: simpleDay,\r\n            startHour: simpleStartHour,\r\n            endHour: simpleEndHour\r\n        })\r\n    }\r\n\r\n    const changeDay = (value) => {\r\n        setDay(value)\r\n    }\r\n\r\n    const changeStartHour = (value) => {\r\n        setStartHour(value)\r\n    }\r\n\r\n    const changeEndHour = (value) => {\r\n        setEndHour(value)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.filterWrapper}>\r\n            {ifDetailFilter && <div className={styles.title} onClick={() => setShowExp(prev => !prev)}>Paradoxical Time Filter</div>}\r\n            {showExp && <div>\r\n                This filter is special. You need to enter your upper and lower limit time of arrival.(If you can arrive at Monday between 5pm and 6pm, then enter Mon,5pm,6pm)\r\n                It is going to filter all the spots that just become available in this time range.\r\n                If a spot has 'No parking' before 6pm, then if you arrive at 5:45pm, you will be guaranteed a spot, just\r\n                wait until 6pm and leave.(unless its really downtown, people park there even they are going to get a\r\n                ticket)\r\n                It's paradoxical because it filters when the spot is unusable rather than when its usable.\r\n            </div>}\r\n            {!ifDetailFilter &&\r\n                <div>\r\n                    <div className={styles.simpleFilterWrapper}>\r\n                        <div className={styles.simpleFilter}>\r\n                            <div className={styles.simpleFilterPlusMinus} onClick={() => setFilterHour(num => num-1)}><BsDash/></div>\r\n                            <div className={styles.simpleFilterMiddle} onClick={simpleFilter}>Next {filterHour} Hour</div>\r\n                            <div className={styles.simpleFilterPlusMinus} onClick={() => setFilterHour(num => num+1)}><BsPlus/></div>\r\n                        </div>\r\n                        <div className={styles.simpleReset} onClick={props.onReset}>Reset</div>\r\n                    </div>\r\n                    <div className={styles.simpleExpand} onClick={() => setIfDetailFilter(prev => !prev)}>\r\n                        <BsFillCaretDownFill />\r\n                    </div>\r\n                </div>\r\n                }\r\n            {ifDetailFilter && <div className={styles.inputsWrapper}>\r\n                <Input.Group compact>\r\n                    <Select onChange={changeDay} defaultValue={1}>\r\n                        <Option value={1}>Mon</Option>\r\n                        <Option value={2}>Tue</Option>\r\n                        <Option value={3}>Wed</Option>\r\n                        <Option value={4}>Thu</Option>\r\n                        <Option value={5}>Fri</Option>\r\n                        <Option value={6}>Sat</Option>\r\n                        <Option value={0}>Sun</Option>\r\n                    </Select>\r\n                    <Select onChange={changeStartHour} defaultValue={1} style={{marginLeft: '10px'}}>\r\n                        {Array(24).fill(1).map((el, i) =>\r\n                            <Option key={i} value={i}>{i}:00</Option>\r\n                        )}\r\n                    </Select>\r\n                    <Input\r\n                        className=\"site-input-split\"\r\n                        style={{\r\n                            width: 30,\r\n                            borderLeft: 0,\r\n                            borderRight: 0,\r\n                            pointerEvents: 'none',\r\n                        }}\r\n                        placeholder=\"~\"\r\n                        disabled\r\n                    />\r\n                    <Select onChange={changeEndHour} defaultValue={23}>\r\n                        {Array(24).fill(1).map((el, i) =>\r\n                            <Option key={i} value={i}>{i}:00</Option>\r\n                        )}\r\n                    </Select>\r\n                </Input.Group>\r\n                <div className={styles.btnWrapper}>\r\n                    <Button type=\"primary\" onClick={filter} style={{marginRight: '10px'}}>Filter</Button>\r\n                    <Button type=\"dark\" onClick={props.onReset}>Reset</Button>\r\n                </div>\r\n                <div className={styles.simpleExpand} onClick={() => setIfDetailFilter(prev => !prev)}>\r\n                    <BsFillCaretUpFill />\r\n                </div>\r\n\r\n            </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","export const MONTH_MAP = {\r\n    0: 'Jan',\r\n    1: 'Feb',\r\n    2: 'Mar',\r\n    3: 'Apr',\r\n    4: 'May',\r\n    5: 'Jun',\r\n    6: 'Jul',\r\n    7: 'Aug',\r\n    8: 'Sep',\r\n    9: 'Oct',\r\n    10: 'Nov',\r\n    11: 'Dec'\r\n}\r\n\r\nexport const DAY_MAP = {\r\n    0: 'Sun',\r\n    1: 'Mon',\r\n    2: 'Tue',\r\n    3: 'Wed',\r\n    4: 'Thu',\r\n    5: 'Fri',\r\n    6: 'Sat',\r\n    7: 'WeekDay',\r\n    8: 'All Week',\r\n}\r\n\r\nexport const FULL_DAY_MAP = {\r\n    0: 'Sunday',\r\n    1: 'Monday',\r\n    2: 'Tuesday',\r\n    3: 'Wednesday',\r\n    4: 'Thursday',\r\n    5: 'Friday',\r\n    6: 'Saturday',\r\n    7: 'Week Day',\r\n    8: 'All Week',\r\n}\r\n","import React from 'react';\r\nimport styles from \"./DetailLimitInfo.module.css\";\r\nimport {DAY_MAP, MONTH_MAP} from \"../../../../shared/util/DataMap\";\r\n\r\nconst DetailLimitInfo = (props) => {\r\n    return (\r\n        <div>\r\n            {props.info.limit && props.info.limit.map((month, index) => {\r\n                return (\r\n                    <div key={index}>\r\n                        <div className={styles.monthWrapper}>{MONTH_MAP[month.monthStart]} to {MONTH_MAP[month.monthEnd]}</div>\r\n                        <div className={styles.spliter}/>\r\n                        {month.day.map((day, index) => {\r\n                            return (\r\n                                <div key={index} className={styles.dayWrapper}>\r\n                                    <div className={styles.dayTitle}>{DAY_MAP[day.num]}:</div>\r\n                                    <div className={styles.timeStyle}>\r\n                                        {day.time.map((time, index) => {\r\n                                            return (\r\n                                                <div>{`${time.startHour}:${time.startMinute} to ${time.endHour}:${time.endMinute}`}</div>\r\n                                            )\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }) }\r\n                        <div className={styles.spliter}/>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DetailLimitInfo;","import React from 'react';\r\nimport styles from \"./SimpleLimitInfo.module.css\";\r\nimport {DAY_MAP, FULL_DAY_MAP, MONTH_MAP} from \"../../../../shared/util/DataMap\";\r\nimport { BsFillSlashCircleFill } from \"react-icons/bs\"\r\n\r\nconst SimpleLimitInfo = (props) => {\r\n    const currentDate = new Date()\r\n    const currentMonth = currentDate.getMonth()\r\n    const currentDay = currentDate.getDay()\r\n\r\n    const listMonth = (month, index) => {\r\n        const currentDate = new Date()\r\n        let showMonthFlag = false\r\n        for (let j = 0; j < month.day.length; j++ ) {\r\n            if (month.day[j].num === currentDate.getDay() || month.day[j].num > 7) {\r\n                showMonthFlag = true\r\n            } else if (month.day[j].num === 6 && currentDate.getDay() > 0 && currentDate.getDay() < 6) {\r\n                showMonthFlag = true\r\n            }\r\n        }\r\n        if (showMonthFlag) {\r\n            return (\r\n                <>\r\n                    {month.monthStart === month.monthEnd && <div className={styles.monthWrapper}><BsFillSlashCircleFill style={{color: 'red', fontSize: '0.9rem'}}/>&nbsp;&nbsp;All Year</div>}\r\n                    {month.monthStart !== month.monthEnd && <div className={styles.monthWrapper}><BsFillSlashCircleFill style={{color: 'red', fontSize: '0.9rem'}}/>&nbsp;&nbsp;{MONTH_MAP[month.monthStart]} to {MONTH_MAP[month.monthEnd]}</div>}\r\n                    {month.day.map((day, index) => {\r\n                        return listDay(day,index)\r\n                    }) }\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n    const listDay = (day,index) => {\r\n        if ((day.num === currentDate.getDay() || day.num > 7) || (day.num > 6 && currentDate.getDay() > 0 && currentDate.getDay() < 5)) {\r\n            return (\r\n                <div key={index} className={styles.dayWrapper}>\r\n                    <div className={styles.dayTitle}>{FULL_DAY_MAP[day.num]}&nbsp;</div>\r\n                    <div className={styles.timeStyle}>\r\n                        {day.time.map((time, index) => {\r\n                            return (\r\n                                <div> {`${time.startHour}:${time.startMinute} to ${time.endHour}:${time.endMinute}`}</div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {props.info.limit && props.info.limit.map((month, index) => {\r\n                return (\r\n                    <div key={index}>\r\n                        {listMonth(month,index)}\r\n\r\n                    </div>\r\n                )\r\n            })}\r\n            <div></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SimpleLimitInfo;","import React, {useState} from 'react';\r\nimport { Button } from 'antd';\r\nimport {BsFillCaretUpFill, BsFillCaretDownFill, BsFillCursorFill, BsPlusCircleFill} from \"react-icons/bs\"\r\n\r\nimport styles from './PointInfoCard.module.css'\r\nimport DetailLimitInfo from \"./info-components/DetailLimitInfo\";\r\nimport SimpleLimitInfo from \"./info-components/SimpleLimitInfo\";\r\nimport {DAY_MAP, MONTH_MAP} from \"../../../shared/util/DataMap\";\r\n\r\nconst PointInfoCard = (props) => {\r\n    const [isDetailInfo, setIsDetailInfo] = useState(false)\r\n\r\n    const addTrip = () => {\r\n        props.onAddTrip(props.info)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.infoCardWrapper}>\r\n            {isDetailInfo && <div>\r\n                <DetailLimitInfo {...props}/>\r\n                <div className={styles.spotsWrapper}>\r\n                    <div>Spots Amount :</div>\r\n                    <div>{props.info.numSpots}</div>\r\n                </div>\r\n                <div className={styles.descriptionWrapper}>\r\n                    <div>Description :</div>\r\n                    <div style={{wordWrap: 'break-word'}}>{props.info.description}</div>\r\n                </div>\r\n                <div className={styles.positionWrapper}>\r\n                    <div>{props.info.lat},{props.info.lng}</div>\r\n                </div>\r\n                <div className={styles.positionWrapper}>\r\n                    <a href={`http://maps.google.com/?q=${props.info.lat},${props.info.lng}`}>Go to Google Map</a>\r\n\r\n                </div>\r\n                <div className={styles.positionWrapper}>\r\n                    {props.info.creator === props.userId &&\r\n                    <Button type=\"primary\" danger onClick={() => props.onDeleteSpot()}>\r\n                        Delete\r\n                    </Button>}\r\n                </div>\r\n                <div className={styles.simpleExpand} onClick={() => setIsDetailInfo(prev => !prev)}>\r\n                    <BsFillCaretUpFill />\r\n                </div>\r\n            </div>}\r\n            {!isDetailInfo && <div>\r\n                <SimpleLimitInfo {...props}/>\r\n                <div className={styles.BtnWrapper}>\r\n                    <a href={`http://maps.google.com/?q=${props.info.lat},${props.info.lng}`}>\r\n                        <div className={styles.BtnDirection}>\r\n                            <BsFillCursorFill style={{fontSize: '1rem'}}/>\r\n                            <div>&nbsp;Direction</div>\r\n                        </div>\r\n                    </a>\r\n\r\n                    <div className={styles.BtnAdd} onClick={addTrip}>\r\n                        <BsPlusCircleFill style={{fontSize: '1rem'}}/>\r\n                        <div>&nbsp;Add To Trip</div>\r\n                    </div>\r\n                </div>\r\n                <div className={styles.simpleExpand} onClick={() => setIsDetailInfo(prev => !prev)}>\r\n                    <BsFillCaretDownFill />\r\n                </div>\r\n            </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PointInfoCard;\r\n","import React from 'react';\r\nimport styles from \"./TripsCard.module.css\";\r\nimport {BsFillCursorFill, BsPlusCircleFill} from \"react-icons/bs\";\r\n\r\nconst TripsCard = (props) => {\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <div className={styles.tripsWrapper}>\r\n                <div className={styles.pointsWrapper}>\r\n                    {props.trips.length > 0 && props.trips.map((info, index) => {\r\n                        return (\r\n                            <div className={styles.points} key={info.id}></div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                <div className={styles.btnWrapper}>\r\n                    <div className={styles.BtnReset} onClick={() => props.onResetTrips()}>\r\n                        <div>Reset</div>\r\n                    </div>\r\n                    <div className={styles.BtnDirection} onClick={() => props.onTripsGo()}>\r\n                        <BsFillCursorFill style={{fontSize: '1rem'}}/>\r\n                        <div>&nbsp;GO</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TripsCard;","import React, { useContext, useState, useEffect } from 'react';\r\nimport { Alert } from 'antd';\r\nimport {BsXCircleFill} from \"react-icons/bs\"\r\n\r\nimport styles from './SidePanel.module.css'\r\n\r\nimport Filter from \"./Filter\";\r\nimport { MONTH_MAP, DAY_MAP } from \"../../../shared/util/DataMap\";\r\nimport PointInfoCard from \"./PointInfoCard\";\r\nimport TripsCard from \"./TripsCard\";\r\nimport {AuthContext} from \"../../../shared/context/auth-context\";\r\nimport {useAuth} from \"../../../shared/hooks/auth-hook\";\r\nimport {useHttpClient} from \"../../../shared/hooks/http-hook\";\r\n\r\nconst SidePanel = (props) => {\r\n    const auth = useContext(AuthContext)\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n    const [successState, setSuccessState] = useState(0)\r\n    const [showAds, setShowAds] = useState(true)\r\n    const [trips, setTrips] = useState([])\r\n\r\n    const filterList = (filterInfo) => {\r\n        props.onFilter(filterInfo)\r\n    }\r\n\r\n\r\n    const deleteSpot = async() => {\r\n        // console.log(props.info)\r\n        try {\r\n            const responseData = await sendRequest(\r\n                `spot/deleteSpot/${props.info.id}`,\r\n                'DELETE', {}, {Authorization: 'Bearer ' + auth.token})\r\n            console.log(responseData)\r\n            if (!error) {\r\n                setSuccessState(1)\r\n                setTimeout(() => {\r\n                    setSuccessState(0)\r\n                }, 5000)\r\n                props.onDeleteSpot(props.info.id)\r\n            }\r\n        } catch (e) {\r\n            setSuccessState(2)\r\n            setTimeout(() => {\r\n                setSuccessState(0)\r\n            }, 5000)\r\n        }\r\n    }\r\n\r\n    const addTrip = (info) => {\r\n        for (let i = 0; i < trips.length; i++) {\r\n            if (trips[i].id === info.id) return\r\n        }\r\n        if (trips.length >= 8) return;\r\n        setTrips(prev => [...prev, info])\r\n    }\r\n\r\n    const resetTrips = () => {\r\n        setTrips([])\r\n    }\r\n\r\n    const tripsGo = () => {\r\n        let googleUrl = 'https://www.google.com/maps/dir//'\r\n        for (let i = 0; i < trips.length; i++) {\r\n            googleUrl = `${googleUrl}${trips[i].lat},${trips[i].lng}/`\r\n        }\r\n        window.location.href = googleUrl;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            {showAds && <div className={styles.advertisement}>\r\n                <a href=\"https://www.linkedin.com/in/chang-anting-87a619a5/\" style={{textDecoration: 'underline'}}>\r\n                    Anting is looking for a Front End Dev Job\r\n                </a>\r\n                <div onClick={() => setShowAds(false)}><BsXCircleFill style={{color: '#999'}}/></div>\r\n            </div>}\r\n            <Filter onFilter={filterList} onReset={() => props.onReset()}/>\r\n            {trips.length > 0 && <TripsCard trips={trips} onTripsGo={tripsGo} onResetTrips={resetTrips}/>}\r\n            {props.info !== null && <PointInfoCard loading={isLoading} info={props.info} userId={auth.userId} onAddTrip={addTrip} onDeleteSpot={deleteSpot} />}\r\n            {successState===1 && <Alert style={{marginTop: '10px'}} message=\"Successfully Deleted\" type=\"success\"/>}\r\n            {successState===2 && <Alert style={{marginTop: '10px'}} message=\"Delete failed\" type=\"danger\"/>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SidePanel;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Map from \"../components/Map\";\r\nimport SidePanel from \"../components/SidePanel\";\r\nimport { pointsList } from \"../../../shared/util/Points\";\r\nimport { useHttpClient } from \"../../../shared/hooks/http-hook\";\r\n\r\nimport styles from './Main.module.css'\r\n\r\nconst Main = () => {\r\n    const [info, setInfo] = useState(null)\r\n    const [filteredPointsList, setFilteredPointsList] = useState(null)\r\n    const [originPointsList, setOriginPointsList] = useState(null)\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n\r\n    useEffect(() => {\r\n        const sendPointsReq = async() => {\r\n            try {\r\n                const responseData = await sendRequest('spot/getAllSpots')\r\n                // console.log(responseData)\r\n                setFilteredPointsList(responseData.spot)\r\n                setOriginPointsList(responseData.spot)\r\n            } catch (e) {}\r\n        }\r\n        sendPointsReq()\r\n    }, [])\r\n\r\n    const clickIcon = (info) => {\r\n        setInfo(info)\r\n        // console.log(info)\r\n    }\r\n\r\n    useEffect(() => {\r\n        // console.log(filteredPointsList)\r\n    }, [filteredPointsList])\r\n\r\n    const filterList = (filterInfo) => {\r\n        const dayFilter = filterInfo.day\r\n        let includeWeekDay;\r\n        if (filterInfo.day <= 5 && filterInfo.day > 0) {\r\n            includeWeekDay = 7\r\n        } else {\r\n            includeWeekDay = -1\r\n        }\r\n        const timeStartFilter = filterInfo.startHour\r\n        const timeEndFilter = filterInfo.endHour\r\n        // console.log('reached filterList')\r\n        // console.log(filteredPointsList)\r\n        setFilteredPointsList((unFilteredList) => {\r\n            // console.log('reached')\r\n            let filteredList = new Array()\r\n            let flag = false\r\n            originPointsList.map(item => {\r\n                item.limit.map(month => {\r\n                    month.day.map(day => {\r\n                        // console.log(day)\r\n                        if (day.num == dayFilter || day.num == 8 || day.num == includeWeekDay) {\r\n                            day.time.map(time => {\r\n                                // console.log(time.startHour, time.endHour)\r\n                                if (time.endHour >= timeStartFilter && time.endHour <= timeEndFilter) {\r\n                                    flag = true\r\n                                }\r\n                            })\r\n                        }\r\n                    })\r\n                })\r\n                // console.log('items here',item)\r\n                if (flag) filteredList.push(item)\r\n                flag = false\r\n            })\r\n            console.log(filteredList)\r\n            return filteredList\r\n        })\r\n    }\r\n\r\n    const deleteSpot = (sid) => {\r\n        console.log('deleteSpot',sid)\r\n        let newArray = originPointsList.filter(point => {\r\n            if (sid == point.id) {\r\n                return false\r\n            }\r\n            return true\r\n        })\r\n        console.log('newArray',newArray)\r\n        setOriginPointsList(newArray)\r\n        setFilteredPointsList(newArray)\r\n    }\r\n\r\n    const resetFilter = () => {\r\n        setFilteredPointsList(originPointsList)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <Map onClickIcon={clickIcon} pointsList={filteredPointsList}/>\r\n            <SidePanel info={info} onFilter={filterList} onReset={resetFilter} onDeleteSpot={deleteSpot}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nimport styles from './Point.module.css'\r\nimport {useMapEvents} from \"react-leaflet\";\r\n\r\nconst Point = (props) => {\r\n    const map = useMapEvents({\r\n        click: (e) => {\r\n            console.log(e)\r\n            props.onClickPoint(e.latlng)\r\n            map.locate()\r\n        },\r\n        locationfound: (location) => {\r\n            console.log('location found:', location)\r\n        },\r\n    })\r\n    return null\r\n    /*return (\r\n        <div>\r\n            <div className={`${styles.pin} ${styles.bounce}`}></div>\r\n            <div className={styles.pulse}></div>\r\n        </div>\r\n    );*/\r\n};\r\n\r\nexport default Point;\r\n","import React, {useState} from 'react';\r\nimport styles from \"./AddPointMap.module.css\";\r\nimport GoogleMapReact from \"google-map-react\";\r\nimport Point from \"./Point\";\r\nimport {MapContainer, Marker, Popup, TileLayer, MapConsumer} from \"react-leaflet\";\r\n\r\nconst AddPointMap = (props) => {\r\n    const [position, setPosition] = useState({\r\n        lat: 45.498478,\r\n        lng: -73.567705,\r\n    })\r\n    const center = {\r\n        lat: 45.498478,\r\n        lng: -73.567705,\r\n    }\r\n    const zoom = 17\r\n\r\n    const clickMap = ({lat, lng}) => {\r\n        setPosition({\r\n            lat: lat,\r\n            lng: lng\r\n        })\r\n        props.onChoosePoint({\r\n            lat: lat,\r\n            lng: lng\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <div style={{ height: '100vh', width: '100%' }}>\r\n                <MapContainer style={{ height: '100vh', width: '100%' }} center={center} zoom={zoom} scrollWheelZoom={true}>\r\n                    <TileLayer\r\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    />\r\n                    <Point onClickPoint={clickMap}/>\r\n                    <Marker position={position}/>\r\n                </MapContainer>\r\n                {/*<GoogleMapReact\r\n                    bootstrapURLKeys={{ key: `${process.env.REACT_APP_GOOGLE_KEY}`}}\r\n                    defaultCenter={center}\r\n                    defaultZoom={zoom}\r\n                    onClick={clickMap}\r\n                >\r\n                    {position && <Point\r\n                        lat={position.lat}\r\n                        lng={position.lng}\r\n                    />}\r\n                </GoogleMapReact>*/}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPointMap;\r\n","import React, {useEffect,useState} from 'react';\r\nimport {DAY_MAP, MONTH_MAP} from \"../../../shared/util/DataMap\";\r\nimport {Button, Select, TimePicker} from \"antd\";\r\n\r\nimport styles from './DaySection.module.css'\r\n\r\nconst DaySection = (props) => {\r\n    const [showAdd, setShowAdd] = useState(true)\r\n    const [startTime, setStartTime] = useState({})\r\n    const [endTime, setEndTime] = useState({})\r\n    const [timeArray, setTimeArray] = useState([])\r\n\r\n    const changeStartTime = (value, valueString) => {\r\n        setStartTime({\r\n            startHour: valueString.slice(0,2),\r\n            startMinute: valueString.slice(3,5)\r\n        })\r\n    }\r\n\r\n    const changeEndTime = (value, valueString) => {\r\n        setEndTime({\r\n            endHour: valueString.slice(0,2),\r\n            endMinute: valueString.slice(3,5)\r\n        })\r\n    }\r\n\r\n    const submitTime = () => {\r\n        setTimeArray(prev => {\r\n            let newArray = prev.concat({\r\n                ...startTime,\r\n                ...endTime\r\n            })\r\n            props.onSubmitTime(newArray,props.index)\r\n            return newArray\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.daySectionWrapper}>\r\n            <div className={styles.dayTitle}>{DAY_MAP[props.day.num]}</div>\r\n            {timeArray && timeArray.length > 0 && timeArray.map((time, index) => {\r\n                return (\r\n                    <div key={index}>\r\n                        <div>{time.startHour}:{time.startMinute} to {time.endHour}:{time.endMinute}</div>\r\n                    </div>\r\n                )\r\n            })}\r\n            {showAdd && <div>\r\n                <TimePicker onChange={changeStartTime}/>\r\n                <TimePicker onChange={changeEndTime}/>\r\n                <Button style={{marginLeft: '10px'}} type=\"primary\" onClick={submitTime}>Add</Button>\r\n            </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DaySection;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {DatePicker, Space, Button, Select} from 'antd';\r\nimport {DAY_MAP, MONTH_MAP} from \"../../../shared/util/DataMap\";\r\nimport DaySection from \"./DaySection\";\r\nimport styles from './MonthSection.module.css'\r\nconst { Option } = Select\r\n\r\nconst MonthSection = (props) => {\r\n    const [dayArray, setDayArray] = useState([])\r\n    const [selectedDay, setSelectedDay] = useState(1)\r\n\r\n\r\n    const changeDay = (dayNum) => {\r\n        setSelectedDay(dayNum)\r\n        console.log(dayNum)\r\n    }\r\n\r\n    const submitDay = () => {\r\n        setDayArray(prev => {\r\n            console.log('day submitted',selectedDay)\r\n            const newArray = prev.concat({\r\n                num: selectedDay,\r\n                time: []\r\n            })\r\n            console.log('day submitted',newArray)\r\n            return newArray\r\n        })\r\n    }\r\n\r\n    // from the day section\r\n    const submitedTime = (value, index) => {\r\n        setDayArray(prev => {\r\n            prev[index].time = value\r\n            console.log('submitted time',prev)\r\n            props.onSubmitDay(prev, props.index)\r\n            return prev\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.monthSectionWrapper}>\r\n            <div className={styles.monthTitle}>{MONTH_MAP[props.month.monthStart]} to {MONTH_MAP[props.month.monthEnd]}</div>\r\n            {dayArray && dayArray.length > 0 && dayArray.map((day, index) => {\r\n                return (\r\n                    <DaySection key={index} day={day} index={index} onSubmitTime={submitedTime} />\r\n                )\r\n            })}\r\n            <div>\r\n                <Select onChange={changeDay} defaultValue={1}>\r\n                    <Option value={1}>Mon</Option>\r\n                    <Option value={2}>Tue</Option>\r\n                    <Option value={3}>Wed</Option>\r\n                    <Option value={4}>Thu</Option>\r\n                    <Option value={5}>Fri</Option>\r\n                    <Option value={6}>Sat</Option>\r\n                    <Option value={0}>Sun</Option>\r\n                    <Option value={7}>WeekDay</Option>\r\n                    <Option value={8}>AllWeek</Option>\r\n                </Select>\r\n                <Button style={{marginLeft: '10px'}} type=\"primary\" onClick={submitDay}>Add</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MonthSection;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport {DatePicker, Space, Button, Select, Alert, Input} from 'antd';\r\nimport {MONTH_MAP} from \"../../../shared/util/DataMap\";\r\nimport MonthSection from \"./MonthSection\";\r\nimport styles from './AddPointPanel.module.css'\r\nconst { Option } = Select\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst AddPointPanel = (props) => {\r\n    const [monthInfo, setMonthInfo] = useState({})\r\n    const [monthArray, setMonthArray] = useState([])\r\n    const [numSpots, setNumSpots] = useState(5)\r\n    const [description, setDescription] = useState('')\r\n    const [inputError, setInputError] = useState({ifInputError: false, message: ''})\r\n\r\n    useEffect(() => {\r\n        setMonthArray([])\r\n    }, [props.sendSuccessful])\r\n\r\n    const reset = () => {\r\n        setMonthArray([])\r\n        setMonthInfo(prev => {\r\n            return {\r\n                monthStart: prev.monthStart,\r\n                monthEnd: prev.monthEnd,\r\n                day: []\r\n            }\r\n        })\r\n    }\r\n\r\n    const changeMonth = (date, dateString) => {\r\n        console.log('date String', dateString)\r\n        let monthStart = dateString[0].split('-')[1] - 1\r\n        let monthEnd = dateString[1].split('-')[1] - 1\r\n        setMonthInfo({\r\n            monthStart: monthStart,\r\n            monthEnd: monthEnd,\r\n            day: []\r\n            })\r\n    }\r\n\r\n    const submitMonth = () => {\r\n        setMonthArray((prev) => {\r\n            let newArray = prev.concat(monthInfo);\r\n            console.log(newArray)\r\n            return newArray\r\n        })\r\n    }\r\n\r\n    // from month section\r\n    const submitedDay = (value, index) => {\r\n        console.log('main section reached')\r\n        setMonthArray(prev => {\r\n            prev[index].day = value\r\n            console.log('main section',prev)\r\n            return prev\r\n        })\r\n    }\r\n\r\n    const setNumSpot = (e) => {\r\n        setNumSpots(e.target.value)\r\n    }\r\n\r\n    const setDescriptionFunc = (e) => {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    const submitObj = () => {\r\n        let emptyFlag = false\r\n        if (monthArray.length === 0) {\r\n            return setInputError({ifInputError: true, message: 'Month range is empty!'})\r\n        }\r\n        monthArray.map(month => {\r\n            if (month.day.length === 0) {\r\n                emptyFlag = true\r\n                setInputError({ifInputError: true, message: 'Day or time is empty!'})\r\n            }\r\n        })\r\n        console.log(monthArray)\r\n        if (emptyFlag) return\r\n\r\n        if (numSpots > 0 && numSpots < 50 ) {\r\n            setInputError({ifInputError: false, message: ''})\r\n            reset()\r\n            return props.onSubmitMonth(monthArray, numSpots, description)\r\n        }\r\n        setInputError({ifInputError: true, message: 'Number of Spots not valid!'})\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            {props.point && <div>\r\n                <div className={styles.positionWrapper}>\r\n                    <div>lat: {props.point.lat}</div>\r\n                    <div>lat: {props.point.lng}</div>\r\n                </div>\r\n                <div className={styles.addPointWrapper}>\r\n                    {monthArray && monthArray.length > 0 && monthArray.map((month, monthIndex) => {\r\n                        return (\r\n                            <MonthSection key={monthIndex} month={month} index={monthIndex} onSubmitDay={submitedDay}/>\r\n                        )\r\n                    })}\r\n                    <div style={{marginBottom: '10px'}}>\r\n                        <RangePicker onChange={changeMonth} picker=\"month\" bordered={false}/>\r\n                        <Button type=\"primary\" onClick={submitMonth}>Add</Button>\r\n                    </div>\r\n                    <div style={{ marginBottom: 16 }}>\r\n                        <Input addonBefore=\"Number of Spots\" defaultValue=\"5\" onChange={setNumSpot} />\r\n                    </div>\r\n                    <div style={{ marginBottom: 16 }}>\r\n                        <Input addonBefore=\"Description\" defaultValue=\"\" onChange={setDescriptionFunc} />\r\n                    </div>\r\n                    <Button type=\"primary\" onClick={submitObj} loading={props.loading} style={{marginRight: '10px'}}>Submit</Button>\r\n\r\n                    <Button style={{marginBottom: '10px'}} type=\"dark\" onClick={reset}>Reset</Button>\r\n                    {props.error && <Alert message=\"Add spot failed\" type=\"error\"/>}\r\n                    {props.sendSuccessful && <Alert message=\"Add spot success\" type=\"success\"/>}\r\n                    {inputError.ifInputError && <Alert message={inputError.message} type=\"error\"/>}\r\n                </div>\r\n            </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPointPanel;\r\n","import React, { useState, useContext } from 'react';\r\nimport { Alert } from 'antd';\r\n\r\nimport AddPointMap from \"../components/AddPointMap\";\r\n\r\nimport styles from './AddPoint.module.css'\r\nimport AddPointPanel from \"../components/AddPointPanel\";\r\nimport { useHttpClient } from \"../../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../../shared/context/auth-context\";\r\n\r\nconst AddPoint = () => {\r\n    const [point,setPoint] = useState(null)\r\n    const [sendSuccessful, setSendSuccessful] = useState(false)\r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n    const auth = useContext(AuthContext)\r\n\r\n    const choosePoint = (info) => {\r\n        setPoint(info)\r\n    }\r\n\r\n    const submitMonth = (value, numSpots, description) => {\r\n        setPoint(prev => {\r\n            prev.limit = value\r\n            prev.numSpots = numSpots\r\n            prev.description = description\r\n            // console.log('main main section',prev)\r\n            return prev\r\n        })\r\n        postPoint()\r\n    }\r\n\r\n    const postPoint = async() => {\r\n        console.log('send post point',point)\r\n        try {\r\n            const responseData = await sendRequest('spot/postSpot', 'POST',\r\n                JSON.stringify(point),\r\n                {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: 'Bearer ' + auth.token\r\n                }\r\n            )\r\n            if (!error) {\r\n                setSendSuccessful(true)\r\n\r\n                setTimeout(() => {\r\n                    setPoint(null)\r\n                    setSendSuccessful(false)\r\n                }, 5000)\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n            setTimeout(() => {\r\n                clearError()\r\n            },5000)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n\r\n            <AddPointMap onChoosePoint={choosePoint}/>\r\n            {point == null && <div className={styles.noInfoWrapper}>\r\n                <div className={styles.noInfoSection}>No point is choosen, please click on the map to choose a point</div>\r\n            </div>}\r\n            {point && <AddPointPanel point={point} error={error} sendSuccessful={sendSuccessful} loading={isLoading}\r\n                            onSubmitMonth={submitMonth}/>}\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPoint;\r\n","import logo from './logo.svg';\nimport './App.css';\nimport React, {useContext} from \"react\";\nimport {\n    HashRouter as Router,\n    Route,\n    Redirect,\n    Switch,\n    useHistory\n} from 'react-router-dom';\n\nimport {useAuth} from \"./shared/hooks/auth-hook\";\nimport {AuthContext} from \"./shared/context/auth-context\";\nimport Auth from \"./pages/user/pages/Auth\";\nimport Map from \"./pages/main/components/Map\";\nimport MainNavigation from \"./shared/components/Navigation/MainNavigation\";\nimport Main from \"./pages/main/pages/Main\";\nimport AddPoint from \"./pages/add-point/pages/AddPoint\";\n\nfunction App() {\n    const {token, logout, login, userId} = useAuth()\n    const auth = useContext(AuthContext)\n\n    let routes\n\n    if (!!token) {\n        routes = (\n            <Switch>\n                <Route path=\"/\" exact>\n                    <Main />\n                </Route>\n                <Route path=\"/add-point\">\n                    <AddPoint />\n                </Route>\n                <Redirect to=\"/\"/>\n            </Switch>\n        )\n    } else {\n        routes = (\n            <Switch>\n                <Route path=\"/\" exact>\n                    <Main />\n                </Route>\n\n                <Route path=\"/login\">\n                    <Auth />\n                </Route>\n                <Redirect to=\"/\"/>\n            </Switch>\n        )\n    }\n\n    return (\n        <AuthContext.Provider value={{\n            isLoggedIn: !!token,\n            token: token,\n            userId: userId,\n            login: login,\n            logout: logout\n        }}>\n            <Router>\n                <div style={{display: 'flex'}}>\n                    <MainNavigation/>\n                    {routes}\n                </div>\n\n            </Router>\n\n        </AuthContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport \"antd/dist/antd.css\";\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterWrapper\":\"Filter_filterWrapper__1kWUk\",\"title\":\"Filter_title__5-qNQ\",\"inputsWrapper\":\"Filter_inputsWrapper__12LOi\",\"btnWrapper\":\"Filter_btnWrapper__-hGQM\",\"simpleFilterWrapper\":\"Filter_simpleFilterWrapper__3ubPq\",\"simpleFilter\":\"Filter_simpleFilter__3OIsp\",\"simpleReset\":\"Filter_simpleReset__F6EUh\",\"simpleFilterPlusMinus\":\"Filter_simpleFilterPlusMinus__11mUa\",\"simpleFilterMiddle\":\"Filter_simpleFilterMiddle__YsMMc\",\"simpleExpand\":\"Filter_simpleExpand__2QpJm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoCardWrapper\":\"PointInfoCard_infoCardWrapper__3j5eB\",\"spotsWrapper\":\"PointInfoCard_spotsWrapper__3OxqH\",\"positionWrapper\":\"PointInfoCard_positionWrapper__lcjGg\",\"descriptionWrapper\":\"PointInfoCard_descriptionWrapper__2ZROx\",\"BtnWrapper\":\"PointInfoCard_BtnWrapper__1JjHN\",\"BtnDirection\":\"PointInfoCard_BtnDirection__iaqN1\",\"BtnAdd\":\"PointInfoCard_BtnAdd__3sibN\",\"simpleExpand\":\"PointInfoCard_simpleExpand__3j2Yz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"TripsCard_pageWrapper___cKuR\",\"points\":\"TripsCard_points__2stme\",\"tripsWrapper\":\"TripsCard_tripsWrapper__1Q97u\",\"pointsWrapper\":\"TripsCard_pointsWrapper__1chqh\",\"btnWrapper\":\"TripsCard_btnWrapper__1qTxP\",\"BtnDirection\":\"TripsCard_BtnDirection__3EOfr\",\"BtnReset\":\"TripsCard_BtnReset__1GXcf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"monthWrapper\":\"DetailLimitInfo_monthWrapper__3Y33I\",\"spliter\":\"DetailLimitInfo_spliter__cENtK\",\"dayWrapper\":\"DetailLimitInfo_dayWrapper__3cPag\",\"dayTitle\":\"DetailLimitInfo_dayTitle__2poMi\",\"timeStyle\":\"DetailLimitInfo_timeStyle__zyz7P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"monthWrapper\":\"SimpleLimitInfo_monthWrapper__2vTkA\",\"spliter\":\"SimpleLimitInfo_spliter__3xZpS\",\"dayWrapper\":\"SimpleLimitInfo_dayWrapper__k8sx6\",\"dayTitle\":\"SimpleLimitInfo_dayTitle__3Rg56\",\"timeStyle\":\"SimpleLimitInfo_timeStyle__2BtUu\"};"],"sourceRoot":""}