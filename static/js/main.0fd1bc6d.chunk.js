(this["webpackJsonpspot-spotter"]=this["webpackJsonpspot-spotter"]||[]).push([[0],{113:function(e,t,n){e.exports={pageWrapper:"Auth_pageWrapper__1Pm6y",formWrapper:"Auth_formWrapper__3I0l-",formTitle:"Auth_formTitle__1GJoM"}},115:function(e,t,n){e.exports={pageWrapper:"AddPoint_pageWrapper__30xtN",noInfoWrapper:"AddPoint_noInfoWrapper__2h-MF",noInfoSection:"AddPoint_noInfoSection__3b07K"}},116:function(e,t,n){e.exports={pageWrapper:"AddPointPanel_pageWrapper__2_XrY",positionWrapper:"AddPointPanel_positionWrapper__2SzJY",addPointWrapper:"AddPointPanel_addPointWrapper__fU6cO"}},127:function(e,t,n){e.exports={enter:"slide_enter__3TZYq",enterActive:"slide_enterActive__2YyCm",enterDone:"slide_enterDone__3N21i",exit:"slide_exit__3kx3A",exitActive:"slide_exitActive__aXHl3",exitDone:"slide_exitDone__2mgnW"}},128:function(e,t,n){e.exports={daySectionWrapper:"DaySection_daySectionWrapper__11eth",dayTitle:"DaySection_dayTitle__LeLSK"}},129:function(e,t,n){e.exports={monthSectionWrapper:"MonthSection_monthSectionWrapper__17od0",monthTitle:"MonthSection_monthTitle__3ZJ45"}},151:function(e,t,n){e.exports={pageWrapper:"Map_pageWrapper__8XAQo"}},152:function(e,t,n){e.exports={pin:"MapPoint_pin__1VJWM"}},153:function(e,t,n){e.exports={menu:"MainNavigation_menu__ArWsl"}},154:function(e,t,n){e.exports={enter:"fade_enter__1hRsL",enterActive:"fade_enterActive__194D9",enterDone:"fade_enterDone__2Hvn0",exit:"fade_exit__2gsPO",exitActive:"fade_exitActive__1nkvU",exitDone:"fade_exitDone__db2pA"}},155:function(e,t,n){e.exports={simpleExpand:"ExpandBtn_simpleExpand__29gFh"}},157:function(e,t,n){e.exports={pageWrapper:"Main_pageWrapper__33Oqw"}},158:function(e,t,n){e.exports={pageWrapper:"AddPointMap_pageWrapper__2UzRL"}},171:function(e,t,n){},173:function(e,t,n){},250:function(e,t,n){e.exports={pin:"Point_pin__3g0Rv",bounce:"Point_bounce__1EeBc",pulse:"Point_pulse__3Awnq",pulsate:"Point_pulsate__1Wqz7"}},251:function(e,t,n){"use strict";n.r(t);var i,r=n(1),a=n.n(r),c=n(24),o=n.n(c),s=(n(171),n(172),n.p,n(173),n(28)),l=n(61),d=n(10),p=Object(r.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){}}),u=n(31),j=n(33),b=n.n(j),f=n(47),m=n(259),O=n(263),h=n(106),x=n(113),g=n.n(x),_=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],i=t[1],a=Object(r.useState)(),c=Object(d.a)(a,2),o=c[0],s=c[1],l=Object(r.useRef)([]),p=Object(r.useCallback)(function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r,a,c,o,d,p,u=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"GET",r=u.length>2&&void 0!==u[2]?u[2]:null,a=u.length>3&&void 0!==u[3]?u[3]:{},i(!0),c=new AbortController,l.current.push(c),o="https://www.spotspotter.space/api/"+t,e.prev=7,e.next=10,fetch(o,{method:n,body:r,headers:a,signal:c.signal});case 10:return d=e.sent,e.next=13,d.json();case 13:if(p=e.sent,l.current=l.current.filter((function(e){return e!==c})),i(!1),d.ok){e.next=18;break}throw new Error(p.message);case 18:return e.abrupt("return",p);case 21:throw e.prev=21,e.t0=e.catch(7),s(e.t0.message),i(!1),e.t0;case 26:case"end":return e.stop()}}),e,null,[[7,21]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(r.useEffect)((function(){return function(){l.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:n,error:o,sendRequest:p,clearError:function(){s(null)}}},v=n(4),y={labelCol:{span:8},wrapperCol:{span:16}},S={wrapperCol:{offset:8,span:16}},W=function(e,t){switch(t.type){case"switch":return!1===e.isSignup?{isSignup:!0,authTitle:"Sign Up",submitBtn:"Sign Up",sideBtn:"Login"}:{isSignup:!1,authTitle:"Login",submitBtn:"Login",sideBtn:"Sign Up"}}},C=function(){var e=Object(r.useContext)(p),t=(Object(s.g)(),_()),n=t.isLoading,i=(t.error,t.sendRequest),a=t.clearError,c=Object(r.useReducer)(W,{isSignup:!1,authTitle:"Login",submitBtn:"Login",sideBtn:"Sign Up"}),o=Object(d.a)(c,2),l=o[0],j=o[1],x=Object(r.useState)(!1),C=Object(d.a)(x,2),N=(C[0],C[1],function(){var t=Object(f.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i("users/login","POST",JSON.stringify({email:n.email,password:n.password}),{"Content-Type":"application/json"});case 3:r=t.sent,e.login(r.userId,r.token),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),setTimeout((function(){a()}),5e3);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),k=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i("users/signup","POST",JSON.stringify({name:t.name,email:t.email,password:t.password}),{"Content-Type":"application/json"});case 3:e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),setTimeout((function(){a()}),5e3);case 10:return e.next=12,N(t);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:g.a.pageWrapper,children:Object(v.jsxs)("div",{className:g.a.formWrapper,children:[Object(v.jsx)("div",{className:g.a.formTitle,children:l.authTitle}),Object(v.jsxs)(m.a,Object(u.a)(Object(u.a)({},y),{},{name:"basic",initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e),l.isSignup?k(e):N(e)},onFinishFailed:function(e){console.log("Failed:",e)},children:[l.isSignup&&Object(v.jsx)(m.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please give your account a name!"}],children:Object(v.jsx)(O.a,{})}),Object(v.jsx)(m.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(v.jsx)(O.a,{})}),Object(v.jsx)(m.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(v.jsx)(O.a.Password,{})}),Object(v.jsxs)(m.a.Item,Object(u.a)(Object(u.a)({},S),{},{children:[Object(v.jsx)(h.a,{loading:n,style:{marginRight:"10px"},type:"primary",htmlType:"submit",children:l.submitBtn}),Object(v.jsx)(h.a,{type:"dark",onClick:function(){j({type:"switch"})},children:l.sideBtn})]}))]}))]})})},N=(n(143),n(254)),k=n(266),T=n(255),I=n(256),w=n(151),D=n.n(w),P=(n(152),n(42)),E=n.n(P),A=n.p+"static/media/red-marker.f117c780.svg",B=n.p+"static/media/blue-marker.3ead5115.svg",M=new E.a.Icon({iconUrl:A,iconRetinaUrl:A,popupAnchor:[-0,-0],iconSize:[30,30],iconAnchor:[15,30]}),R=new E.a.Icon({iconUrl:B,iconRetinaUrl:B,popupAnchor:[-0,-0],iconSize:[30,30],iconAnchor:[15,30]}),F=function(e){var t=Object(r.useState)(15),n=Object(d.a)(t,2),i=n[0],a=(n[1],Object(r.useState)()),c=Object(d.a)(a,2),o=c[0],s=c[1];return Object(v.jsx)("div",{className:D.a.pageWrapper,children:Object(v.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(v.jsxs)(N.a,{style:{height:"".concat(window.innerHeight,"px"),width:"100%"},center:{lat:45.498478,lng:-73.567705},zoom:15,zoomControl:!1,scrollWheelZoom:!0,children:[Object(v.jsx)(k.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(v.jsx)(T.a,{position:"bottomright"}),i>14&&e.pointsList&&e.pointsList.length>0&&e.pointsList.map((function(t,n){return Object(v.jsx)(I.a,{icon:(i=t.id,i===o?M:R),position:{lat:t.lat,lng:t.lng},eventHandlers:{click:function(){return function(t){s(t.id),e.onClickIcon(t)}(t)}}},t.id);var i}))]})})})},L=n(260),z=n(153),H=n.n(z),q=(L.a.SubMenu,function(){var e=Object(r.useContext)(p);return Object(v.jsxs)(L.a,{onClick:function(e){console.log("click ",e)},className:H.a.menu,style:{height:"100vh"},defaultSelectedKeys:["map"],defaultOpenKeys:["sub1"],mode:"vertical",children:[Object(v.jsxs)(L.a.ItemGroup,{title:"Main Menu",children:[Object(v.jsx)(L.a.Item,{children:Object(v.jsx)(l.b,{to:"/",children:"Map"})},"map"),e.isLoggedIn&&Object(v.jsx)(L.a.Item,{children:Object(v.jsx)(l.b,{to:"/add-point",children:"Add Spot"})},"addPoint")]},"main"),Object(v.jsxs)(L.a.ItemGroup,{title:"User",children:[!e.isLoggedIn&&Object(v.jsx)(L.a.Item,{children:Object(v.jsx)(l.b,{to:"/login",children:"Login"})},"login"),e.isLoggedIn&&Object(v.jsx)(L.a.Item,{children:Object(v.jsx)(l.b,{onClick:function(){e.logout()},children:"Log Out"})},"logout")]},"user")]})}),J=n(161),U=n(262),G=n(27),V=n(114),Y=n(264),Z=n(87),K=n.n(Z),Q=n(154),X=n.n(Q),$=n(127),ee=n.n($),te=(n(247),n(249),n(261)),ne=n(155),ie=n.n(ne),re=function(e){return Object(v.jsxs)("div",{className:ie.a.simpleExpand,onClick:function(){return e.onBtnClick()},children:[e.isDown&&Object(v.jsx)(G.b,{}),!e.isDown&&Object(v.jsx)(G.c,{})]})},ae=n(41),ce=n.n(ae),oe=te.a.Option,se=function(e){var t=Object(r.useState)(1),n=Object(d.a)(t,2),i=n[0],a=n[1],c=Object(r.useState)(1),o=Object(d.a)(c,2),s=o[0],l=o[1],p=Object(r.useState)(23),u=Object(d.a)(p,2),j=u[0],b=u[1],f=Object(r.useState)(!1),m=Object(d.a)(f,2),x=(m[0],m[1],Object(r.useState)(!1)),g=Object(d.a)(x,2),_=g[0],y=g[1],S=Object(r.useState)(0),W=Object(d.a)(S,2),C=W[0],N=W[1],k=Object(r.useState)(1),T=Object(d.a)(k,2),I=T[0],w=T[1],D=Object(r.useRef)(),P=Object(r.useRef)();Object(r.useEffect)((function(){setTimeout((function(){N(_?D.current.scrollHeight:P.current.scrollHeight)}),0)}),[_]);return Object(v.jsxs)("div",{className:ce.a.filterWrapper,children:[Object(v.jsxs)("div",{className:ce.a.filterCard,style:{height:C},children:[!_&&Object(v.jsxs)("div",{ref:P,children:[Object(v.jsxs)("div",{className:ce.a.simpleFilterWrapper,children:[Object(v.jsxs)("div",{className:ce.a.simpleFilter,children:[Object(v.jsx)("div",{className:ce.a.simpleFilterPlusMinus,onClick:function(){return w((function(e){return e-1}))},children:Object(v.jsx)(G.a,{})}),Object(v.jsxs)("div",{className:ce.a.simpleFilterMiddle,onClick:function(){e.onReset();var t=new Date,n=t.getDay(),i=t.getHours(),r=t.getHours()+I;console.log(n,i,r),e.onFilter({day:n,startHour:i,endHour:r})},children:["Filter Next ",I,"h"]}),Object(v.jsx)("div",{className:ce.a.simpleFilterPlusMinus,onClick:function(){return w((function(e){return e+1}))},children:Object(v.jsx)(G.g,{})})]}),Object(v.jsx)("div",{className:ce.a.simpleReset,onClick:e.onReset,children:"Reset"})]}),Object(v.jsxs)("div",{style:{fontSize:"0.6rem",color:"#999"},children:["Only filters spots that is BECOMING available within next ",I," hr"]})]}),_&&Object(v.jsxs)("div",{className:ce.a.inputsWrapper,ref:D,children:[Object(v.jsx)("div",{className:ce.a.title,children:"Paradoxical Time Filter"}),Object(v.jsxs)(O.a.Group,{compact:!0,children:[Object(v.jsxs)(te.a,{onChange:function(e){a(e)},defaultValue:1,children:[Object(v.jsx)(oe,{value:1,children:"Mon"}),Object(v.jsx)(oe,{value:2,children:"Tue"}),Object(v.jsx)(oe,{value:3,children:"Wed"}),Object(v.jsx)(oe,{value:4,children:"Thu"}),Object(v.jsx)(oe,{value:5,children:"Fri"}),Object(v.jsx)(oe,{value:6,children:"Sat"}),Object(v.jsx)(oe,{value:0,children:"Sun"})]}),Object(v.jsx)(te.a,{onChange:function(e){l(e)},defaultValue:1,style:{marginLeft:"10px"},children:Array(24).fill(1).map((function(e,t){return Object(v.jsxs)(oe,{value:t,children:[t,":00"]},t)}))}),Object(v.jsx)(O.a,{className:"site-input-split",style:{width:30,borderLeft:0,borderRight:0,pointerEvents:"none"},placeholder:"~",disabled:!0}),Object(v.jsx)(te.a,{onChange:function(e){b(e)},defaultValue:23,children:Array(24).fill(1).map((function(e,t){return Object(v.jsxs)(oe,{value:t,children:[t,":00"]},t)}))})]}),Object(v.jsxs)("div",{className:ce.a.btnWrapper,children:[Object(v.jsx)(h.a,{type:"primary",onClick:function(){console.log(i,s,j),e.onFilter({day:i,startHour:s,endHour:j})},style:{marginRight:"10px"},children:"Filter"}),Object(v.jsx)(h.a,{type:"dark",onClick:e.onReset,children:"Reset"})]}),Object(v.jsx)("div",{className:ce.a.simpleExpand,onClick:function(){return y((function(e){return!e}))},children:Object(v.jsx)(G.c,{})})]})]}),Object(v.jsx)(re,{isDown:!_,onBtnClick:function(){return y((function(e){return!e}))}})]})},le={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"},de={0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",7:"WeekDay",8:"All Week"},pe={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday",7:"Week Day",8:"All Week"},ue=n(70),je=n.n(ue),be=n(30),fe=n.n(be),me=n(69),Oe=n(83),he=n.n(Oe),xe=function(e){return Object(v.jsx)("div",{style:e.style,onClick:function(){return e.onBtnClick()},className:"\n            ".concat(he.a.btnBase," \n            ").concat(e.solid?"".concat(he.a.btnSolid):"".concat(he.a.btnEmpty),"\n            ").concat(e.small?"".concat(he.a.btnSmall):"".concat(he.a.btnBig)),children:e.children})},ge=function(e){return Object(v.jsxs)("div",{children:[e.info.limit&&e.info.limit.map((function(e,t){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:fe.a.monthWrapper,children:[Object(v.jsx)("div",{className:fe.a.iconSection,children:Object(v.jsx)(G.e,{style:{color:"red",fontSize:"0.9rem"}})}),Object(v.jsxs)("div",{children:[le[e.monthStart]," to ",le[e.monthEnd]]})]}),e.day.map((function(e,t){return Object(v.jsxs)("div",{className:fe.a.dayWrapper,children:[Object(v.jsx)("div",{className:fe.a.iconSection}),Object(v.jsxs)("div",{className:fe.a.daySection,children:[Object(v.jsx)("div",{className:fe.a.dayTitle,children:pe[e.num]}),Object(v.jsx)("div",{className:fe.a.timeStyle,children:e.time.map((function(e,t){return Object(v.jsx)("div",{children:"".concat(e.startHour,":").concat(e.startMinute," to ").concat(e.endHour,":").concat(e.endMinute)},t)}))})]})]},t)})),Object(v.jsx)("div",{className:fe.a.spliter})]},t)})),Object(v.jsxs)("div",{className:fe.a.spotsWrapper,children:[Object(v.jsx)("div",{className:fe.a.iconSection,children:Object(v.jsx)(me.a,{style:{color:"rgb(2, 169, 230)",fontSize:"1.2rem"}})}),Object(v.jsxs)("div",{children:[e.info.numSpots,"\xa0spots"]})]}),Object(v.jsx)("div",{className:fe.a.spliter}),Object(v.jsxs)("div",{className:fe.a.descriptionWrapper,children:[Object(v.jsx)("div",{className:fe.a.iconSection,children:Object(v.jsx)(me.d,{style:{color:"rgb(2, 169, 230)",fontSize:"1.2rem"}})}),Object(v.jsx)("div",{style:{wordWrap:"break-word"},children:e.info.description?e.info.description:"No description"})]}),Object(v.jsx)("div",{className:fe.a.spliter}),Object(v.jsxs)("div",{className:fe.a.positionWrapper,children:[Object(v.jsx)("div",{className:fe.a.iconSection,children:Object(v.jsx)(me.c,{style:{color:"rgb(2, 169, 230)",fontSize:"1.2rem"}})}),Object(v.jsxs)("div",{className:fe.a.positionSection,children:[Object(v.jsxs)("div",{children:[e.info.lat.substring(0,8),",",e.info.lng.substring(0,9)]}),Object(v.jsxs)(xe,{style:{borderColor:"#999"},solid:!1,small:!0,onBtnClick:function(){navigator.clipboard.writeText("".concat(e.info.lat.substring(0,8),",").concat(e.info.lng.substring(0,9)))},children:[Object(v.jsx)(me.b,{style:{fontSize:"0.8rem",color:"#999"}}),Object(v.jsx)("div",{style:{color:"#999"},children:"\xa0Copy"})]})]})]}),e.info.creator===e.userId&&Object(v.jsx)("div",{className:fe.a.positionWrapper,children:Object(v.jsx)(h.a,{type:"primary",danger:!0,onClick:function(){return e.onDeleteSpot()},children:"Delete"})}),Object(v.jsx)("div",{className:fe.a.spliter}),Object(v.jsxs)("div",{className:fe.a.BtnWrapper,children:[Object(v.jsx)("a",{href:"http://maps.google.com/?q=".concat(e.info.lat,",").concat(e.info.lng),children:Object(v.jsxs)(xe,{solid:!0,children:[Object(v.jsx)(G.d,{style:{fontSize:"1rem"}}),Object(v.jsx)("div",{children:"\xa0Direction"})]})}),Object(v.jsxs)(xe,{style:{marginLeft:"10px"},solid:!1,onBtnClick:function(){return e.onAddTrip()},children:[Object(v.jsx)(G.h,{style:{fontSize:"1rem"}}),Object(v.jsx)("div",{children:"\xa0Add To Trip"})]})]})]})},_e=n(71),ve=n.n(_e),ye=function(e){var t=new Date,n=(t.getMonth(),t.getDay(),!1);Object(r.useEffect)((function(){e.onShowMonth(n)}),[e.info]);var i=function(e,t){for(var i=new Date,r=!1,c=0;c<e.day.length;c++)(e.day[c].num===i.getDay()||e.day[c].num>7||6===e.day[c].num&&i.getDay()>0&&i.getDay()<6)&&(r=!0);if(r)return n=!0,console.log("showMonthFlag reached"),Object(v.jsxs)(v.Fragment,{children:[e.monthStart===e.monthEnd&&Object(v.jsxs)("div",{className:ve.a.monthWrapper,children:[Object(v.jsx)(G.e,{style:{color:"red",fontSize:"0.9rem"}}),"\xa0\xa0All Year"]}),e.monthStart!==e.monthEnd&&Object(v.jsxs)("div",{className:ve.a.monthWrapper,children:[Object(v.jsx)(G.e,{style:{color:"red",fontSize:"0.9rem"}}),"\xa0\xa0",le[e.monthStart]," to ",le[e.monthEnd]]}),e.day.map((function(e,t){return a(e,t)}))]})},a=function(e,n){if(e.num===t.getDay()||e.num>7||e.num>6&&t.getDay()>0&&t.getDay()<5)return Object(v.jsxs)("div",{className:ve.a.dayWrapper,children:[Object(v.jsx)("div",{className:ve.a.dayTitle,children:"Today\xa0"}),Object(v.jsx)("div",{className:ve.a.timeStyle,children:e.time.map((function(e,t){return Object(v.jsxs)("div",{children:["\u2022 ","".concat(e.startHour,":").concat(e.startMinute," to ").concat(e.endHour,":").concat(e.endMinute)]},t)}))})]},n)};return Object(v.jsxs)("div",{children:[e.info.limit&&e.info.limit.map((function(e,t){return Object(v.jsx)("div",{children:i(e)},t)})),Object(v.jsxs)("div",{className:ve.a.spotsStyle,children:[Object(v.jsx)(me.a,{})," \u2022 ",e.info.numSpots," spots"]})]})},Se=function(e){var t=Object(r.useState)(!1),n=Object(d.a)(t,2),i=n[0],a=n[1],c=Object(r.useState)(!0),o=Object(d.a)(c,2),s=o[0],l=o[1],p=Object(r.useState)(0),j=Object(d.a)(p,2),b=j[0],f=j[1],m=Object(r.useRef)(),O=Object(r.useRef)();Object(r.useEffect)((function(){setTimeout((function(){f(i?m.current.scrollHeight:O.current.scrollHeight)}),0)}),[i,e.info]);var h=function(){e.onAddTrip(e.info)};return Object(v.jsxs)("div",{className:je.a.infoCardWrapper,children:[Object(v.jsxs)("div",{className:je.a.infoCard,style:{height:b},children:[i&&Object(v.jsx)("div",{ref:m,style:i?{opacity:"1"}:{opacity:"0"},className:je.a.infoTransition,children:Object(v.jsx)(ge,Object(u.a)(Object(u.a)({},e),{},{onDeleteSpot:function(){return e.onDeleteSpot()},onAddTrip:h}))}),!i&&Object(v.jsxs)("div",{ref:O,style:i?{opacity:0}:{opacity:1},className:je.a.infoTransition,children:[s&&Object(v.jsxs)("div",{className:je.a.monthEmptyPlaceholder,children:[Object(v.jsx)(G.f,{style:{color:"#27c200",fontSize:"0.9rem"}}),"\xa0\xa0No Restrictions Today"]}),Object(v.jsx)(ye,Object(u.a)(Object(u.a)({},e),{},{onShowMonth:function(e){l(!e)}})),Object(v.jsxs)("div",{className:je.a.BtnWrapper,children:[Object(v.jsx)("a",{href:"http://maps.google.com/?q=".concat(e.info.lat,",").concat(e.info.lng),children:Object(v.jsxs)(xe,{solid:!0,children:[Object(v.jsx)(G.d,{style:{fontSize:"1rem"}}),Object(v.jsx)("div",{children:"\xa0Direction"})]})}),Object(v.jsxs)(xe,{style:{marginLeft:"10px"},solid:!1,onBtnClick:h,children:[Object(v.jsx)(G.h,{style:{fontSize:"1rem"}}),Object(v.jsx)("div",{children:"\xa0Add To Trip"})]})]})]})]}),Object(v.jsx)(re,{isDown:!i,onBtnClick:function(){return a((function(e){return!e}))}})]})},We=n(63),Ce=n.n(We),Ne=function(e){return Object(v.jsx)("div",{className:Ce.a.pageWrapper,children:Object(v.jsxs)("div",{className:Ce.a.tripsWrapper,children:[Object(v.jsx)("div",{className:Ce.a.pointsWrapper,children:e.trips.length>0&&e.trips.map((function(e,t){return Object(v.jsx)("div",{className:Ce.a.points},e.id)}))}),Object(v.jsxs)("div",{className:Ce.a.btnWrapper,children:[Object(v.jsx)("div",{className:Ce.a.BtnReset,onClick:function(){return e.onResetTrips()},children:Object(v.jsx)("div",{children:"Reset"})}),Object(v.jsxs)("div",{className:Ce.a.BtnDirection,onClick:function(){return e.onTripsGo()},children:[Object(v.jsx)(G.d,{style:{fontSize:"1rem"}}),Object(v.jsx)("div",{children:"\xa0GO"})]})]})]})})},ke=function(e){var t=Object(r.useContext)(p),n=_(),i=n.isLoading,a=n.error,c=n.sendRequest,o=(n.clearError,Object(r.useState)(0)),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(r.useState)(!0),m=Object(d.a)(j,2),O=m[0],h=m[1],x=Object(r.useState)([]),g=Object(d.a)(x,2),y=g[0],S=g[1],W=Object(r.useState)(!1),C=Object(d.a)(W,2),N=C[0],k=C[1],T=Object(r.useState)(!1),I=Object(d.a)(T,2),w=I[0],D=I[1],P=Object(r.useRef)(),E=Object(r.useRef)(),A=Object(r.useRef)();Object(r.useEffect)((function(){console.log("showTripsCard",N)}),[N]),Object(r.useEffect)((function(){null!==e.info&&(D(!0),console.log("setShowInfo(true)"))}),[e.info]);var B=function(){var n=Object(f.a)(b.a.mark((function n(){var i;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c("spot/deleteSpot/".concat(e.info.id),"DELETE",{},{Authorization:"Bearer "+t.token});case 3:i=n.sent,console.log(i),a||(u(1),setTimeout((function(){u(0)}),5e3),e.onDeleteSpot(e.info.id)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),u(2),setTimeout((function(){u(0)}),5e3);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:K.a.pageWrapper,children:[Object(v.jsx)(Y.a,{in:O,timeout:200,classNames:ee.a,nodeRef:A,mountOnEnter:!0,unmountOnExit:!0,children:Object(v.jsxs)("div",{className:K.a.advertisementWrapper,ref:A,children:[Object(v.jsxs)("div",{className:K.a.advertisementIcon,children:[Object(v.jsx)("a",{href:"https://github.com/Anting-Chang/spot-spotter",target:"_blank",rel:"noopener noreferrer",children:Object(v.jsx)(V.a,{style:{color:"#ff6363",fontSize:"2rem",marginRight:"10px"}})}),Object(v.jsx)("a",{href:"https://www.linkedin.com/in/chang-anting-87a619a5/",target:"_blank",rel:"noopener noreferrer",children:Object(v.jsx)(V.c,{style:{color:"#ff6363",fontSize:"2rem",marginRight:"10px"}})}),Object(v.jsx)("a",{href:"mailto:antingchang@yahoo.ca",target:"_blank",rel:"noopener noreferrer",children:Object(v.jsx)(V.b,{style:{color:"#ff6363",fontSize:"2rem"}})})]}),Object(v.jsxs)("div",{className:K.a.advertisement,children:["If you like it, please Star on Github. Anting is also looking for a Front-End Dev Job.",Object(v.jsx)("div",{onClick:function(){return h(!1)},children:Object(v.jsx)(G.i,{style:{color:"#999"}})})]})]})}),Object(v.jsx)(se,{onFilter:function(t){e.onFilter(t)},onReset:function(){return e.onReset()}}),Object(v.jsx)(Y.a,{in:N,timeout:200,classNames:ee.a,nodeRef:E,mountOnEnter:!0,unmountOnExit:!0,children:Object(v.jsx)("div",{ref:E,children:Object(v.jsx)(Ne,{trips:y,onTripsGo:function(){for(var e="https://www.google.com/maps/dir//",t=0;t<y.length;t++)e="".concat(e).concat(y[t].lat,",").concat(y[t].lng,"/");window.location.href=e},onResetTrips:function(){k(!1),S([])}})})}),Object(v.jsx)(Y.a,{in:w,timeout:300,classNames:X.a,unmountOnExit:!0,nodeRef:P,children:w?Object(v.jsx)("div",{ref:P,children:Object(v.jsx)(Se,{loading:i,info:e.info,userId:t.userId,onAddTrip:function(e){k(!0);for(var t=0;t<y.length;t++)if(y[t].id===e.id)return;y.length>=8||S((function(t){return[].concat(Object(J.a)(t),[e])}))},onDeleteSpot:B})}):Object(v.jsx)("div",{})},e.info),1===l&&Object(v.jsx)(U.a,{style:{marginTop:"10px"},message:"Successfully Deleted",type:"success"}),2===l&&Object(v.jsx)(U.a,{style:{marginTop:"10px"},message:"Delete failed",type:"danger"})]})},Te=n(157),Ie=n.n(Te),we=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],i=t[1],a=Object(r.useState)(null),c=Object(d.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)(null),p=Object(d.a)(l,2),u=p[0],j=p[1],m=_(),O=(m.isLoading,m.error,m.sendRequest);m.clearError;Object(r.useEffect)((function(){(function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("spot/getAllSpots");case 3:t=e.sent,s(t.spot),j(t.spot),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);Object(r.useEffect)((function(){}),[o]);return Object(v.jsxs)("div",{className:Ie.a.pageWrapper,children:[Object(v.jsx)(F,{onClickIcon:function(e){i(e)},pointsList:o}),Object(v.jsx)(ke,{info:n,onFilter:function(e){var t,n=e.day;t=e.day<=5&&e.day>0?7:-1;var i=e.startHour,r=e.endHour;s((function(e){var a=new Array,c=!1;return u.map((function(e){e.limit.map((function(e){e.day.map((function(e){e.num!=n&&8!=e.num&&e.num!=t||e.time.map((function(e){e.endHour>=i&&e.endHour<=r&&(c=!0)}))}))})),c&&a.push(e),c=!1})),console.log(a),a}))},onReset:function(){s(u)},onDeleteSpot:function(e){console.log("deleteSpot",e);var t=u.filter((function(t){return e!=t.id}));console.log("newArray",t),j(t),s(t)}})]})},De=n(158),Pe=n.n(De),Ee=(n(250),n(257)),Ae=function(e){var t=Object(Ee.a)({click:function(n){console.log(n),e.onClickPoint(n.latlng),t.locate()},locationfound:function(e){console.log("location found:",e)}});return null},Be=function(e){var t=Object(r.useState)({lat:45.498478,lng:-73.567705}),n=Object(d.a)(t,2),i=n[0],a=n[1];return Object(v.jsx)("div",{className:Pe.a.pageWrapper,children:Object(v.jsx)("div",{style:{height:"100vh",width:"100%"},children:Object(v.jsxs)(N.a,{style:{height:"100vh",width:"100%"},center:{lat:45.498478,lng:-73.567705},zoom:17,scrollWheelZoom:!0,children:[Object(v.jsx)(k.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(v.jsx)(Ae,{onClickPoint:function(t){var n=t.lat,i=t.lng;a({lat:n,lng:i}),e.onChoosePoint({lat:n,lng:i})}}),Object(v.jsx)(I.a,{position:i})]})})})},Me=n(115),Re=n.n(Me),Fe=n(130),Le=n(258),ze=n(128),He=n.n(ze),qe=function(e){var t=Object(r.useState)(!0),n=Object(d.a)(t,2),i=n[0],a=(n[1],Object(r.useState)({})),c=Object(d.a)(a,2),o=c[0],s=c[1],l=Object(r.useState)({}),p=Object(d.a)(l,2),j=p[0],b=p[1],f=Object(r.useState)([]),m=Object(d.a)(f,2),O=m[0],x=m[1];return Object(v.jsxs)("div",{className:He.a.daySectionWrapper,children:[Object(v.jsx)("div",{className:He.a.dayTitle,children:de[e.day.num]}),O&&O.length>0&&O.map((function(e,t){return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{children:[e.startHour,":",e.startMinute," to ",e.endHour,":",e.endMinute]})},t)})),i&&Object(v.jsxs)("div",{children:[Object(v.jsx)(Le.a,{onChange:function(e,t){s({startHour:t.slice(0,2),startMinute:t.slice(3,5)})}}),Object(v.jsx)(Le.a,{onChange:function(e,t){b({endHour:t.slice(0,2),endMinute:t.slice(3,5)})}}),Object(v.jsx)(h.a,{style:{marginLeft:"10px"},type:"primary",onClick:function(){x((function(t){var n=t.concat(Object(u.a)(Object(u.a)({},o),j));return e.onSubmitTime(n,e.index),n}))},children:"Add"})]})]})},Je=n(129),Ue=n.n(Je),Ge=te.a.Option,Ve=function(e){var t=Object(r.useState)([]),n=Object(d.a)(t,2),i=n[0],a=n[1],c=Object(r.useState)(1),o=Object(d.a)(c,2),s=o[0],l=o[1],p=function(t,n){a((function(i){return i[n].time=t,console.log("submitted time",i),e.onSubmitDay(i,e.index),i}))};return Object(v.jsxs)("div",{className:Ue.a.monthSectionWrapper,children:[Object(v.jsxs)("div",{className:Ue.a.monthTitle,children:[le[e.month.monthStart]," to ",le[e.month.monthEnd]]}),i&&i.length>0&&i.map((function(e,t){return Object(v.jsx)(qe,{day:e,index:t,onSubmitTime:p},t)})),Object(v.jsxs)("div",{children:[Object(v.jsxs)(te.a,{onChange:function(e){l(e),console.log(e)},defaultValue:1,children:[Object(v.jsx)(Ge,{value:1,children:"Mon"}),Object(v.jsx)(Ge,{value:2,children:"Tue"}),Object(v.jsx)(Ge,{value:3,children:"Wed"}),Object(v.jsx)(Ge,{value:4,children:"Thu"}),Object(v.jsx)(Ge,{value:5,children:"Fri"}),Object(v.jsx)(Ge,{value:6,children:"Sat"}),Object(v.jsx)(Ge,{value:0,children:"Sun"}),Object(v.jsx)(Ge,{value:7,children:"WeekDay"}),Object(v.jsx)(Ge,{value:8,children:"AllWeek"})]}),Object(v.jsx)(h.a,{style:{marginLeft:"10px"},type:"primary",onClick:function(){a((function(e){console.log("day submitted",s);var t=e.concat({num:s,time:[]});return console.log("day submitted",t),t}))},children:"Add"})]})]})},Ye=n(116),Ze=n.n(Ye),Ke=(te.a.Option,Fe.a.RangePicker),Qe=function(e){var t=Object(r.useState)({}),n=Object(d.a)(t,2),i=n[0],a=n[1],c=Object(r.useState)([]),o=Object(d.a)(c,2),s=o[0],l=o[1],p=Object(r.useState)(5),u=Object(d.a)(p,2),j=u[0],b=u[1],f=Object(r.useState)(""),m=Object(d.a)(f,2),x=m[0],g=m[1],_=Object(r.useState)({ifInputError:!1,message:""}),y=Object(d.a)(_,2),S=y[0],W=y[1];Object(r.useEffect)((function(){l([])}),[e.sendSuccessful]);var C=function(){l([]),a((function(e){return{monthStart:e.monthStart,monthEnd:e.monthEnd,day:[]}}))},N=function(e,t){console.log("main section reached"),l((function(n){return n[t].day=e,console.log("main section",n),n}))};return Object(v.jsx)("div",{className:Ze.a.pageWrapper,children:e.point&&Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:Ze.a.positionWrapper,children:[Object(v.jsxs)("div",{children:["lat: ",e.point.lat]}),Object(v.jsxs)("div",{children:["lat: ",e.point.lng]})]}),Object(v.jsxs)("div",{className:Ze.a.addPointWrapper,children:[s&&s.length>0&&s.map((function(e,t){return Object(v.jsx)(Ve,{month:e,index:t,onSubmitDay:N},t)})),Object(v.jsxs)("div",{style:{marginBottom:"10px"},children:[Object(v.jsx)(Ke,{onChange:function(e,t){console.log("date String",t);var n=t[0].split("-")[1]-1,i=t[1].split("-")[1]-1;a({monthStart:n,monthEnd:i,day:[]})},picker:"month",bordered:!1}),Object(v.jsx)(h.a,{type:"primary",onClick:function(){l((function(e){var t=e.concat(i);return console.log(t),t}))},children:"Add"})]}),Object(v.jsx)("div",{style:{marginBottom:16},children:Object(v.jsx)(O.a,{addonBefore:"Number of Spots",defaultValue:"5",onChange:function(e){b(e.target.value)}})}),Object(v.jsx)("div",{style:{marginBottom:16},children:Object(v.jsx)(O.a,{addonBefore:"Description",defaultValue:"",onChange:function(e){g(e.target.value)}})}),Object(v.jsx)(h.a,{type:"primary",onClick:function(){var t=!1;return 0===s.length?W({ifInputError:!0,message:"Month range is empty!"}):(s.map((function(e){0===e.day.length&&(t=!0,W({ifInputError:!0,message:"Day or time is empty!"}))})),console.log(s),t?void 0:j>0&&j<50?(W({ifInputError:!1,message:""}),C(),e.onSubmitMonth(s,j,x)):void W({ifInputError:!0,message:"Number of Spots not valid!"}))},loading:e.loading,style:{marginRight:"10px"},children:"Submit"}),Object(v.jsx)(h.a,{style:{marginBottom:"10px"},type:"dark",onClick:C,children:"Reset"}),e.error&&Object(v.jsx)(U.a,{message:"Add spot failed",type:"error"}),e.sendSuccessful&&Object(v.jsx)(U.a,{message:"Add spot success",type:"success"}),S.ifInputError&&Object(v.jsx)(U.a,{message:S.message,type:"error"})]})]})})},Xe=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],i=t[1],a=Object(r.useState)(!1),c=Object(d.a)(a,2),o=c[0],s=c[1],l=_(),u=l.isLoading,j=l.error,m=l.sendRequest,O=l.clearError,h=Object(r.useContext)(p),x=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("send post point",n),e.prev=1,e.next=4,m("spot/postSpot","POST",JSON.stringify(n),{"Content-Type":"application/json",Authorization:"Bearer "+h.token});case 4:e.sent,j||(s(!0),setTimeout((function(){i(null),s(!1)}),5e3)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),setTimeout((function(){O()}),5e3);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:Re.a.pageWrapper,children:[Object(v.jsx)(Be,{onChoosePoint:function(e){i(e)}}),null==n&&Object(v.jsx)("div",{className:Re.a.noInfoWrapper,children:Object(v.jsx)("div",{className:Re.a.noInfoSection,children:"No point is choosen, please click on the map to choose a point"})}),n&&Object(v.jsx)(Qe,{point:n,error:j,sendSuccessful:o,loading:u,onSubmitMonth:function(e,t,n){i((function(i){return i.limit=e,i.numSpots=t,i.description=n,i})),x()}})]})};var $e=function(){var e,t=function(){console.log("app is rerendering");var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(),o=Object(d.a)(c,2),s=o[0],l=o[1],p=Object(r.useState)(),u=Object(d.a)(p,2),j=u[0],b=u[1],f=Object(r.useCallback)((function(e,t,n){console.log(e),b(e),a(t);var i=n||new Date((new Date).getTime()+36e5);l(i),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expiration:i.toISOString()}))}),[]),m=Object(r.useCallback)((function(){a(n),l(null),b(null),localStorage.removeItem("userData")}),[]);return Object(r.useEffect)((function(){if(console.log("timeout reached"),n&&s){var e=s.getTime()-(new Date).getTime();i=setTimeout(m,e)}else clearTimeout(i)}),[n,m,s]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&f(e.userId,e.token)}),[f]),{token:n,login:f,logout:m,userId:j}}(),n=t.token,a=t.logout,c=t.login,o=t.userId;return Object(r.useContext)(p),e=n?Object(v.jsxs)(s.d,{children:[Object(v.jsx)(s.b,{path:"/",exact:!0,children:Object(v.jsx)(we,{})}),Object(v.jsx)(s.b,{path:"/add-point",children:Object(v.jsx)(Xe,{})}),Object(v.jsx)(s.a,{to:"/"})]}):Object(v.jsxs)(s.d,{children:[Object(v.jsx)(s.b,{path:"/",exact:!0,children:Object(v.jsx)(we,{})}),Object(v.jsx)(s.b,{path:"/login",children:Object(v.jsx)(C,{})}),Object(v.jsx)(s.a,{to:"/"})]}),Object(v.jsx)(p.Provider,{value:{isLoggedIn:!!n,token:n,userId:o,login:c,logout:a},children:Object(v.jsx)(l.a,{children:Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(q,{}),e]})})})},et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,267)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),a(e),c(e)}))};o.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)($e,{})}),document.getElementById("root")),et()},30:function(e,t,n){e.exports={monthWrapper:"DetailLimitInfo_monthWrapper__3Y33I",spliter:"DetailLimitInfo_spliter__cENtK",dayWrapper:"DetailLimitInfo_dayWrapper__3cPag",daySection:"DetailLimitInfo_daySection__2zYRY",dayTitle:"DetailLimitInfo_dayTitle__2poMi",timeStyle:"DetailLimitInfo_timeStyle__zyz7P",iconSection:"DetailLimitInfo_iconSection__36R9T",spotsWrapper:"DetailLimitInfo_spotsWrapper__3cNqm",positionWrapper:"DetailLimitInfo_positionWrapper__tg4Cf",positionSection:"DetailLimitInfo_positionSection__v96V4",descriptionWrapper:"DetailLimitInfo_descriptionWrapper__2JDzr",BtnWrapper:"DetailLimitInfo_BtnWrapper__1RSBZ"}},41:function(e,t,n){e.exports={filterWrapper:"Filter_filterWrapper__1kWUk",filterCard:"Filter_filterCard__1kxa6",title:"Filter_title__5-qNQ",inputsWrapper:"Filter_inputsWrapper__12LOi",btnWrapper:"Filter_btnWrapper__-hGQM",simpleFilterWrapper:"Filter_simpleFilterWrapper__3ubPq",simpleFilter:"Filter_simpleFilter__3OIsp",simpleReset:"Filter_simpleReset__F6EUh",simpleFilterPlusMinus:"Filter_simpleFilterPlusMinus__11mUa",simpleFilterMiddle:"Filter_simpleFilterMiddle__YsMMc",simpleExpand:"Filter_simpleExpand__2QpJm"}},63:function(e,t,n){e.exports={pageWrapper:"TripsCard_pageWrapper___cKuR",points:"TripsCard_points__2stme",tripsWrapper:"TripsCard_tripsWrapper__1Q97u",pointsWrapper:"TripsCard_pointsWrapper__1chqh",btnWrapper:"TripsCard_btnWrapper__1qTxP",BtnDirection:"TripsCard_BtnDirection__3EOfr",BtnReset:"TripsCard_BtnReset__1GXcf"}},70:function(e,t,n){e.exports={infoCardWrapper:"PointInfoCard_infoCardWrapper__3j5eB",infoCard:"PointInfoCard_infoCard__m3aBV",infoTransition:"PointInfoCard_infoTransition__1aRr8",infoCardWrapperActive:"PointInfoCard_infoCardWrapperActive__10P-u",spotsWrapper:"PointInfoCard_spotsWrapper__3OxqH",positionWrapper:"PointInfoCard_positionWrapper__lcjGg",descriptionWrapper:"PointInfoCard_descriptionWrapper__2ZROx",monthEmptyPlaceholder:"PointInfoCard_monthEmptyPlaceholder__7yhgH",BtnWrapper:"PointInfoCard_BtnWrapper__1JjHN",BtnDirection:"PointInfoCard_BtnDirection__iaqN1",BtnAdd:"PointInfoCard_BtnAdd__3sibN",simpleExpand:"PointInfoCard_simpleExpand__3j2Yz"}},71:function(e,t,n){e.exports={monthWrapper:"SimpleLimitInfo_monthWrapper__2vTkA",dayWrapper:"SimpleLimitInfo_dayWrapper__k8sx6",dayTitle:"SimpleLimitInfo_dayTitle__3Rg56",timeStyle:"SimpleLimitInfo_timeStyle__2BtUu",spotsStyle:"SimpleLimitInfo_spotsStyle__2Ftgm"}},83:function(e,t,n){e.exports={btnSolid:"MainBtn_btnSolid__2JTbw",btnEmpty:"MainBtn_btnEmpty__2nkOT",btnBase:"MainBtn_btnBase__lcnIE",btnSmall:"MainBtn_btnSmall__N9sBI",btnBig:"MainBtn_btnBig__1v5bI"}},87:function(e,t,n){e.exports={pageWrapper:"SidePanel_pageWrapper__1fJhL",advertisementWrapper:"SidePanel_advertisementWrapper__1YFdd",advertisement:"SidePanel_advertisement__1v1Zg",advertisementIcon:"SidePanel_advertisementIcon__oVCXV",infoCardWrapper:"SidePanel_infoCardWrapper__h5lZ0"}}},[[251,1,2]]]);
//# sourceMappingURL=main.0fd1bc6d.chunk.js.map