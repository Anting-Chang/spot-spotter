{"version":3,"sources":["pages/user/pages/Auth.module.css","pages/add-point/pages/AddPoint.module.css","pages/add-point/components/AddPointPanel.module.css","pages/add-point/components/DaySection.module.css","pages/add-point/components/MonthSection.module.css","pages/main/components/Map.module.css","pages/main/components/MapPoint.module.css","shared/components/Navigation/MainNavigation.module.css","pages/main/components/SidePanel.module.css","pages/main/pages/Main.module.css","pages/add-point/components/AddPointMap.module.css","pages/add-point/components/Point.module.css","shared/hooks/auth-hook.js","logo.svg","shared/context/auth-context.js","shared/hooks/http-hook.js","pages/user/pages/Auth.js","pages/main/components/Map.js","shared/components/Navigation/MainNavigation.js","pages/main/components/Filter.js","shared/util/DataMap.js","pages/main/components/PointInfoCard.js","pages/main/components/SidePanel.js","pages/main/pages/Main.js","pages/add-point/components/Point.js","pages/add-point/components/AddPointMap.js","pages/add-point/components/DaySection.js","pages/add-point/components/MonthSection.js","pages/add-point/components/AddPointPanel.js","pages/add-point/pages/AddPoint.js","App.js","reportWebVitals.js","index.js","pages/main/components/PointInfoCard.module.css","pages/main/components/Filter.module.css"],"names":["module","exports","logoutTimer","AuthContext","createContext","isLoggedIn","userId","token","login","logout","useHttpClient","useState","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortControl","AbortController","current","push","fullUrl","process","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","layout","labelCol","span","wrapperCol","tailLayout","offset","reducer","state","action","type","isSignup","authTitle","submitBtn","sideBtn","Auth","auth","useContext","useHistory","useReducer","authState","dispatch","loginHandler","values","JSON","stringify","email","password","console","log","setTimeout","signupHandler","name","className","styles","pageWrapper","formWrapper","formTitle","initialValues","remember","onFinish","onFinishFailed","errorInfo","Item","label","rules","required","Password","loading","style","marginRight","htmlType","onClick","Map","props","currentZoom","setClickIndex","height","width","MapContainer","center","lat","lng","zoom","scrollWheelZoom","TileLayer","attribution","pointsList","length","map","info","index","Marker","position","eventHandlers","click","onClickIcon","clickIcon","Popup","MainNavigation","Menu","SubMenu","e","menu","defaultSelectedKeys","defaultOpenKeys","mode","ItemGroup","title","to","Option","Select","Filter","day","setDay","startHour","setStartHour","endHour","setEndHour","filterWrapper","inputsWrapper","Group","compact","onChange","value","defaultValue","marginLeft","Array","fill","el","i","borderLeft","borderRight","pointerEvents","placeholder","disabled","btnWrapper","onFilter","onReset","MONTH_MAP","0","1","2","3","4","5","6","7","8","9","10","11","DAY_MAP","PointInfoCard","infoCardWrapper","limit","month","monthWrapper","monthStart","monthEnd","spliter","dayWrapper","dayTitle","num","timeStyle","time","startMinute","endMinute","spotsWrapper","numSpots","positionWrapper","creator","danger","onDeleteSpot","SidePanel","successState","setSuccessState","deleteSpot","id","Authorization","filterInfo","marginTop","Main","setInfo","filteredPointsList","setFilteredPointsList","originPointsList","setOriginPointsList","spot","sendPointsReq","includeWeekDay","dayFilter","timeStartFilter","timeEndFilter","unFilteredList","filteredList","flag","item","sid","newArray","point","Point","useMapEvents","onClickPoint","latlng","locate","locationfound","location","AddPointMap","setPosition","onChoosePoint","DaySection","showAdd","startTime","setStartTime","endTime","setEndTime","timeArray","setTimeArray","daySectionWrapper","valueString","slice","prev","concat","onSubmitTime","MonthSection","dayArray","setDayArray","selectedDay","setSelectedDay","submitedTime","onSubmitDay","monthSectionWrapper","monthTitle","dayNum","RangePicker","DatePicker","AddPointPanel","monthInfo","setMonthInfo","monthArray","setMonthArray","setNumSpots","ifInputError","inputError","setInputError","sendSuccessful","reset","submitedDay","addPointWrapper","monthIndex","marginBottom","date","dateString","split","picker","bordered","addonBefore","target","emptyFlag","onSubmitMonth","AddPoint","setPoint","setSendSuccessful","postPoint","noInfoWrapper","noInfoSection","App","routes","setToken","tokenTimeOut","setTokenTimeOut","setUserId","uid","expirationDate","tokenExpirationDate","Date","getTime","localStorage","setItem","expiration","toISOString","removeItem","remainingTime","clearTimeout","storedData","parse","getItem","useAuth","path","exact","Provider","display","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b85386e8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"Auth_pageWrapper__1Pm6y\",\"formWrapper\":\"Auth_formWrapper__3I0l-\",\"formTitle\":\"Auth_formTitle__1GJoM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"AddPoint_pageWrapper__30xtN\",\"noInfoWrapper\":\"AddPoint_noInfoWrapper__2h-MF\",\"noInfoSection\":\"AddPoint_noInfoSection__3b07K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"AddPointPanel_pageWrapper__2_XrY\",\"positionWrapper\":\"AddPointPanel_positionWrapper__2SzJY\",\"addPointWrapper\":\"AddPointPanel_addPointWrapper__fU6cO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"daySectionWrapper\":\"DaySection_daySectionWrapper__11eth\",\"dayTitle\":\"DaySection_dayTitle__LeLSK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"monthSectionWrapper\":\"MonthSection_monthSectionWrapper__17od0\",\"monthTitle\":\"MonthSection_monthTitle__3ZJ45\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"Map_pageWrapper__8XAQo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pin\":\"MapPoint_pin__1VJWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"MainNavigation_menu__ArWsl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"SidePanel_pageWrapper__1fJhL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"Main_pageWrapper__33Oqw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"AddPointMap_pageWrapper__2UzRL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pin\":\"Point_pin__3g0Rv\",\"bounce\":\"Point_bounce__1EeBc\",\"pulse\":\"Point_pulse__3Awnq\",\"pulsate\":\"Point_pulsate__1Wqz7\"};","import {useCallback, useEffect, useState} from \"react\";\r\n\r\nlet logoutTimer;\r\n\r\nexport const useAuth = () => {\r\n    console.log('app is rerendering')\r\n\r\n    const [token, setToken] = useState(false)\r\n    const [tokenTimeOut, setTokenTimeOut] = useState()\r\n    const [userId, setUserId] = useState()\r\n\r\n    /**\r\n     * put userId, token, and expirationDate in it\r\n     * @type {function(*=, *=, *=): void}\r\n     */\r\n    const login = useCallback((uid, token, expirationDate) => {\r\n        console.log(uid)\r\n        setUserId(uid)\r\n        setToken(token)\r\n        const tokenExpirationDate = expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60)\r\n        setTokenTimeOut(tokenExpirationDate)\r\n        localStorage.setItem('userData', JSON.stringify({\r\n            userId: uid,\r\n            token: token,\r\n            expiration: tokenExpirationDate.toISOString()\r\n        }))\r\n    }, [])\r\n\r\n    const logout = useCallback(() => {\r\n        setToken(token)\r\n        setTokenTimeOut(null)\r\n        setUserId(null)\r\n        localStorage.removeItem('userData')\r\n\r\n    }, [])\r\n\r\n    // auto timeout login\r\n    useEffect(() => {\r\n        console.log('timeout reached')\r\n        if (token && tokenTimeOut) {\r\n            const remainingTime = tokenTimeOut.getTime() - new Date().getTime()\r\n            logoutTimer = setTimeout(logout, remainingTime)\r\n        } else {\r\n            clearTimeout(logoutTimer)\r\n        }\r\n    },[token, logout, tokenTimeOut])\r\n\r\n    // auto login\r\n    useEffect(() => {\r\n        const storedData = JSON.parse(localStorage.getItem('userData'))\r\n        if (storedData &&\r\n            storedData.token &&\r\n            new Date(storedData.expiration) > new Date()\r\n        ) {\r\n            login(storedData.userId, storedData.token)\r\n        }\r\n    }, [login])\r\n\r\n    return {\r\n        token,\r\n        login,\r\n        logout,\r\n        userId\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import {createContext} from 'react'\r\n\r\nexport const AuthContext = createContext({\r\n    isLoggedIn: false,\r\n    userId: null,\r\n    token: null,\r\n    login: () => {\r\n    },\r\n\r\n    logout: () => {\r\n    }\r\n})\r\n","import { useState, useCallback, useEffect, useRef } from 'react'\r\n\r\nexport const useHttpClient = () => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [error, setError] = useState()\r\n\r\n    const activeHttpRequests = useRef([])\r\n\r\n    const sendRequest = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n        setIsLoading(true)\r\n        const httpAbortControl = new AbortController()\r\n        activeHttpRequests.current.push(httpAbortControl)\r\n        let fullUrl = process.env.REACT_APP_API_URL + url\r\n            try {\r\n                const response = await fetch(fullUrl, {\r\n                    method,\r\n                    body,\r\n                    headers,\r\n                    signal: httpAbortControl.signal\r\n                })\r\n\r\n                const responseData = await response.json()\r\n\r\n                activeHttpRequests.current = activeHttpRequests.current.filter(\r\n                    reqCtrl => reqCtrl !== httpAbortControl\r\n                )\r\n\r\n                setIsLoading(false)\r\n\r\n                if (!response.ok) {\r\n                    throw new Error(responseData.message)\r\n                }\r\n\r\n                return responseData\r\n            } catch (err) {\r\n                setError(err.message)\r\n                setIsLoading(false)\r\n                throw err;\r\n            }\r\n        }, [])\r\n\r\n    const clearError = () => {\r\n        setError(null)\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort())\r\n        }\r\n    }, [])\r\n\r\n    return { isLoading, error, sendRequest, clearError }\r\n}\r\n","import React, { useContext, useState, useReducer } from 'react';\r\nimport { Form, Input, Button, Checkbox, Switch } from 'antd';\r\n\r\nimport styles from './Auth.module.css'\r\nimport { AuthContext } from \"../../../shared/context/auth-context\";\r\nimport { useHttpClient } from \"../../../shared/hooks/http-hook\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useAuth} from \"../../../shared/hooks/auth-hook\";\r\n\r\nconst layout = {\r\n    labelCol: {\r\n        span: 8,\r\n    },\r\n    wrapperCol: {\r\n        span: 16,\r\n    },\r\n};\r\nconst tailLayout = {\r\n    wrapperCol: {\r\n        offset: 8,\r\n        span: 16,\r\n    },\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'switch':\r\n            if (state.isSignup === false) {\r\n                return {\r\n                    isSignup: true,\r\n                    authTitle: 'Sign Up',\r\n                    submitBtn: 'Sign Up',\r\n                    sideBtn: 'Login'\r\n                }\r\n            } else {\r\n                return {\r\n                    isSignup: false,\r\n                    authTitle: 'Login',\r\n                    submitBtn: 'Login',\r\n                    sideBtn: 'Sign Up',\r\n                }\r\n            }\r\n    }\r\n}\r\n\r\nconst Auth = () => {\r\n    const auth = useContext(AuthContext)\r\n    const history = useHistory()\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n\r\n    const [authState, dispatch] = useReducer(reducer, {\r\n        isSignup: false,\r\n        authTitle: 'Login',\r\n        submitBtn: 'Login',\r\n        sideBtn: 'Sign Up',\r\n    })\r\n\r\n    const [isSignup, setIsSignup] = useState(false)\r\n\r\n    const onFinish = (values) => {\r\n        console.log('Success:', values);\r\n        if (authState.isSignup) {\r\n            signupHandler(values)\r\n        } else {\r\n            loginHandler(values)\r\n        }\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    const loginHandler = async (values) => {\r\n        try {\r\n            const responseData = await sendRequest('users/login', 'POST',\r\n                JSON.stringify({\r\n                    email: values.email,\r\n                    password: values.password\r\n                }),\r\n                {'Content-Type': 'application/json'}\r\n            )\r\n            auth.login(responseData.userId, responseData.token)\r\n            // console.log('signing in', responseData.weekObj)\r\n\r\n            // console.log(auth.userId)\r\n        } catch (e) {\r\n            console.log(e)\r\n            setTimeout(() => {\r\n                clearError()\r\n            },5000)\r\n        }\r\n    }\r\n\r\n    const switchState = () => {\r\n        dispatch({type: 'switch'})\r\n    }\r\n\r\n    const signupHandler = async (values) => {\r\n        try {\r\n            const responseData = await sendRequest('users/signup', 'POST',\r\n                JSON.stringify({\r\n                    name: values.name,\r\n                    email: values.email,\r\n                    password: values.password\r\n                }),\r\n                {'Content-Type': 'application/json'}\r\n            )\r\n        } catch (e) {\r\n            console.log(e)\r\n            setTimeout(() => {\r\n                clearError()\r\n            },5000)\r\n        }\r\n        await loginHandler(values)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <div className={styles.formWrapper}>\r\n                <div className={styles.formTitle}>{authState.authTitle}</div>\r\n                <Form\r\n                    {...layout}\r\n                    name=\"basic\"\r\n                    initialValues={{\r\n                        remember: true,\r\n                    }}\r\n                    onFinish={onFinish}\r\n                    onFinishFailed={onFinishFailed}\r\n                >\r\n\r\n                    {authState.isSignup && <Form.Item\r\n                        label=\"Name\"\r\n                        name=\"name\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please give your account a name!',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input/>\r\n                    </Form.Item>}\r\n\r\n                    <Form.Item\r\n                        label=\"Email\"\r\n                        name=\"email\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input your email!',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Password\"\r\n                        name=\"password\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input your password!',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item {...tailLayout}>\r\n                        <Button loading={isLoading} style={{marginRight: '10px'}} type=\"primary\" htmlType=\"submit\">\r\n                            {authState.submitBtn}\r\n                        </Button>\r\n                        <Button type=\"dark\" onClick={switchState} >\r\n                            {authState.sideBtn}\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Auth;\r\n","import React, { useState } from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet'\r\n\r\nimport styles from './Map.module.css'\r\nimport MapPoint from \"./MapPoint\";\r\n\r\n\r\nconst Map = (props) => {\r\n    const center = {\r\n            lat: 45.498478,\r\n            lng: -73.567705,\r\n        }\r\n    const zoom = 17\r\n\r\n    const [currentZoom, setCurrentZoom] = useState(zoom)\r\n    const [clickIndex,setClickIndex] = useState()\r\n\r\n    const clickMap = ({ x, y, lat, lng, event }) => {\r\n\r\n        console.log(lat,lng)\r\n    }\r\n    const setZoom = (zoomLeve) => {\r\n        setCurrentZoom(zoomLeve)\r\n    }\r\n\r\n    const clickIcon = (info, index) => {\r\n        setClickIndex(index)\r\n        props.onClickIcon(info)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <div style={{ height: '100vh', width: '100%' }}>\r\n                <MapContainer style={{ height: '100vh', width: '100%' }} center={center} zoom={zoom} scrollWheelZoom={true}>\r\n                    <TileLayer\r\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    />\r\n                    { currentZoom > 14 && props.pointsList && props.pointsList.length > 0 && props.pointsList.map((info, index) => {\r\n                        return (\r\n                            <Marker\r\n                                position={{lat: info.lat, lng: info.lng}}\r\n                                eventHandlers={{\r\n                                    click: () => clickIcon(info, index),\r\n                                }}\r\n                            >\r\n                                <Popup>\r\n                                    {info.lat},{info.lng}\r\n                                </Popup>\r\n                            </Marker>\r\n                        )\r\n                    })}\r\n                </MapContainer>\r\n                {/*<GoogleMapReact*/}\r\n                {/*    bootstrapURLKeys={{ key: `${process.env.REACT_APP_GOOGLE_KEY}`}}*/}\r\n                {/*    defaultCenter={center}*/}\r\n                {/*    defaultZoom={zoom}*/}\r\n                {/*    onClick={clickMap}*/}\r\n                {/*    onZoomAnimationEnd ={setZoom}*/}\r\n                {/*>*/}\r\n                {/*    { currentZoom > 14 && props.pointsList && props.pointsList.length > 0 && props.pointsList.map((info, index) => {*/}\r\n                {/*        return (<MapPoint*/}\r\n                {/*            lat={info.lat}*/}\r\n                {/*            lng={info.lng}*/}\r\n                {/*            info={info}*/}\r\n                {/*            index={index}*/}\r\n                {/*            clearClick={clickIndex}*/}\r\n                {/*            onClickIcon={clickIcon}*/}\r\n                {/*        />)*/}\r\n                {/*    })*/}\r\n                {/*    }*/}\r\n                {/*</GoogleMapReact>*/}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Map;\r\n","import React, { useContext } from 'react';\r\n\r\nimport { Menu } from 'antd';\r\nimport { AppstoreOutlined, MailOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom'\r\nimport { AuthContext } from \"../../context/auth-context\";\r\nimport {useAuth} from \"../../hooks/auth-hook\";\r\nimport styles from './MainNavigation.module.css'\r\n\r\nconst { SubMenu } = Menu;\r\n\r\n\r\n\r\nconst MainNavigation = () => {\r\n    const auth = useContext(AuthContext)\r\n\r\n    const handleClick = e => {\r\n        console.log('click ', e);\r\n    };\r\n\r\n    const logoutMenu = () => {\r\n        auth.logout()\r\n    }\r\n\r\n    return (\r\n        <Menu\r\n            onClick={handleClick}\r\n            className={styles.menu}\r\n            style={{  height: '100vh' }}\r\n            defaultSelectedKeys={['map']}\r\n            defaultOpenKeys={['sub1']}\r\n            mode=\"vertical\"\r\n        >\r\n            <Menu.ItemGroup key=\"main\" title=\"Main Menu\">\r\n                <Menu.Item key=\"map\">\r\n                    <Link to={'/'}>Map</Link>\r\n                </Menu.Item>\r\n                {auth.isLoggedIn && <Menu.Item key=\"addPoint\">\r\n                    <Link to={'/add-point'}>Add Spot</Link>\r\n                </Menu.Item>}\r\n            </Menu.ItemGroup>\r\n\r\n            <Menu.ItemGroup key=\"user\" title=\"User\">\r\n                {!auth.isLoggedIn && <Menu.Item key=\"login\">\r\n                    <Link to={'/login'}>Login</Link>\r\n                </Menu.Item>}\r\n                {auth.isLoggedIn && <Menu.Item key=\"logout\">\r\n                    <Link onClick={logoutMenu}>Log Out</Link>\r\n                </Menu.Item>}\r\n            </Menu.ItemGroup>\r\n        </Menu>\r\n    );\r\n};\r\n\r\nexport default MainNavigation;\r\n","import React, { useState } from 'react';\r\n\r\nimport { Input, Select, Button } from 'antd';\r\n\r\nimport styles from './Filter.module.css'\r\nconst { Option } = Select;\r\n\r\nconst Filter = (props) => {\r\n    const [day, setDay] = useState(1)\r\n    const [startHour, setStartHour] = useState(1)\r\n    const [endHour, setEndHour] = useState(23)\r\n\r\n\r\n    const filter = () => {\r\n        props.onFilter({\r\n            day,\r\n            startHour,\r\n            endHour\r\n        })\r\n    }\r\n\r\n    const changeDay = (value) => {\r\n        setDay(value)\r\n    }\r\n\r\n    const changeStartHour = (value) => {\r\n        setStartHour(value)\r\n    }\r\n\r\n    const changeEndHour = (value) => {\r\n        setEndHour(value)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.filterWrapper}>\r\n            <div className={styles.title}>Time Filter</div>\r\n            <div className={styles.inputsWrapper}>\r\n                <Input.Group compact>\r\n                    <Select onChange={changeDay} defaultValue={1}>\r\n                        <Option value={1}>Mon</Option>\r\n                        <Option value={2}>Tue</Option>\r\n                        <Option value={3}>Wed</Option>\r\n                        <Option value={4}>Thu</Option>\r\n                        <Option value={5}>Fri</Option>\r\n                        <Option value={6}>Sat</Option>\r\n                        <Option value={0}>Sun</Option>\r\n                    </Select>\r\n                    <Select onChange={changeStartHour} defaultValue={1} style={{marginLeft: '10px'}} >\r\n                        {Array(24).fill(1).map((el, i) =>\r\n                            <Option key={i} value={i}>{i}:00</Option>\r\n                        )}\r\n                    </Select>\r\n                    <Input\r\n                        className=\"site-input-split\"\r\n                        style={{\r\n                            width: 30,\r\n                            borderLeft: 0,\r\n                            borderRight: 0,\r\n                            pointerEvents: 'none',\r\n                        }}\r\n                        placeholder=\"~\"\r\n                        disabled\r\n                    />\r\n                    <Select onChange={changeEndHour} defaultValue={23}>\r\n                        {Array(24).fill(1).map((el, i) =>\r\n                            <Option key={i} value={i}>{i}:00</Option>\r\n                        )}\r\n                    </Select>\r\n                </Input.Group>\r\n                <div className={styles.btnWrapper}>\r\n                    <Button type=\"primary\" onClick={filter} style={{marginRight: '10px'}}>Filter</Button>\r\n                    <Button type=\"dark\" onClick={props.onReset}>Reset</Button>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","export const MONTH_MAP = {\r\n    0: 'Jan',\r\n    1: 'Feb',\r\n    2: 'Mar',\r\n    3: 'Apr',\r\n    4: 'May',\r\n    5: 'Jun',\r\n    6: 'Jul',\r\n    7: 'Aug',\r\n    8: 'Sep',\r\n    9: 'Oct',\r\n    10: 'Nov',\r\n    11: 'Dec'\r\n}\r\n\r\nexport const DAY_MAP = {\r\n    0: 'Sun',\r\n    1: 'Mon',\r\n    2: 'Tue',\r\n    3: 'Wed',\r\n    4: 'Thu',\r\n    5: 'Fri',\r\n    6: 'Sat',\r\n    7: 'WeekDay',\r\n    8: 'All Week',\r\n}\r\n","import React from 'react';\r\nimport { Button } from 'antd';\r\n\r\nimport styles from './PointInfoCard.module.css'\r\nimport {DAY_MAP, MONTH_MAP} from \"../../../shared/util/DataMap\";\r\n\r\nconst PointInfoCard = (props) => {\r\n    return (\r\n        <div className={styles.infoCardWrapper}>\r\n\r\n            {props.info.limit && props.info.limit.map((month, index) => {\r\n                return (\r\n                    <div key={index}>\r\n                        <div className={styles.monthWrapper}>{MONTH_MAP[month.monthStart]} to {MONTH_MAP[month.monthEnd]}</div>\r\n                        <div className={styles.spliter}/>\r\n                        {month.day.map((day, index) => {\r\n                            return (\r\n                                <div key={index} className={styles.dayWrapper}>\r\n                                    <div className={styles.dayTitle}>{DAY_MAP[day.num]}:</div>\r\n                                    <div className={styles.timeStyle}>\r\n                                        {day.time.map((time, index) => {\r\n                                            return (\r\n                                                <div>{`${time.startHour}:${time.startMinute} to ${time.endHour}:${time.endMinute}`}</div>\r\n                                            )\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }) }\r\n                        <div className={styles.spliter}/>\r\n                    </div>\r\n                )\r\n            })}\r\n            <div className={styles.spotsWrapper}>\r\n                <div>Spots Amount :</div>\r\n                <div>{props.info.numSpots}</div>\r\n            </div>\r\n            <div className={styles.positionWrapper}>\r\n                <div>{props.info.lat},{props.info.lng}</div>\r\n            </div>\r\n            <div className={styles.positionWrapper}>\r\n                {props.info.creator === props.userId && <Button type=\"primary\" danger onClick={() => props.onDeleteSpot()}>\r\n                    Delete\r\n                </Button>}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PointInfoCard;\r\n","import React, { useContext, useState } from 'react';\r\nimport { Alert } from 'antd';\r\n\r\nimport styles from './SidePanel.module.css'\r\n\r\nimport Filter from \"./Filter\";\r\nimport { MONTH_MAP, DAY_MAP } from \"../../../shared/util/DataMap\";\r\nimport PointInfoCard from \"./PointInfoCard\";\r\nimport {AuthContext} from \"../../../shared/context/auth-context\";\r\nimport {useAuth} from \"../../../shared/hooks/auth-hook\";\r\nimport {useHttpClient} from \"../../../shared/hooks/http-hook\";\r\n\r\nconst SidePanel = (props) => {\r\n    const auth = useContext(AuthContext)\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n    const [successState, setSuccessState] = useState(0)\r\n\r\n    const filterList = (filterInfo) => {\r\n        props.onFilter(filterInfo)\r\n    }\r\n\r\n    const deleteSpot = async() => {\r\n        // console.log(props.info)\r\n        try {\r\n            const responseData = await sendRequest(\r\n                `spot/deleteSpot/${props.info.id}`,\r\n                'DELETE', {}, {Authorization: 'Bearer ' + auth.token})\r\n            console.log(responseData)\r\n            if (!error) {\r\n                setSuccessState(1)\r\n                setTimeout(() => {\r\n                    setSuccessState(0)\r\n                }, 5000)\r\n                props.onDeleteSpot(props.info.id)\r\n            }\r\n        } catch (e) {\r\n            setSuccessState(2)\r\n            setTimeout(() => {\r\n                setSuccessState(0)\r\n            }, 5000)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <Filter onFilter={filterList} onReset={() => props.onReset()}/>\r\n            {props.info !== null && <div>\r\n                <PointInfoCard loading={isLoading} info={props.info} userId={auth.userId} onDeleteSpot={deleteSpot} />\r\n            </div>}\r\n            {successState===1 && <Alert style={{marginTop: '10px'}} message=\"Successfully Deleted\" type=\"success\"/>}\r\n            {successState===2 && <Alert style={{marginTop: '10px'}} message=\"Delete failed\" type=\"danger\"/>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SidePanel;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Map from \"../components/Map\";\r\nimport SidePanel from \"../components/SidePanel\";\r\nimport { pointsList } from \"../../../shared/util/Points\";\r\nimport { useHttpClient } from \"../../../shared/hooks/http-hook\";\r\n\r\nimport styles from './Main.module.css'\r\n\r\nconst Main = () => {\r\n    const [info, setInfo] = useState(null)\r\n    const [filteredPointsList, setFilteredPointsList] = useState(null)\r\n    const [originPointsList, setOriginPointsList] = useState(null)\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n\r\n    useEffect(() => {\r\n        const sendPointsReq = async() => {\r\n            try {\r\n                const responseData = await sendRequest('spot/getAllSpots')\r\n                // console.log(responseData)\r\n                setFilteredPointsList(responseData.spot)\r\n                setOriginPointsList(responseData.spot)\r\n            } catch (e) {}\r\n        }\r\n        sendPointsReq()\r\n    }, [])\r\n\r\n    const clickIcon = (info) => {\r\n        setInfo(info)\r\n        console.log(info)\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(filteredPointsList)\r\n    }, [filteredPointsList])\r\n\r\n    const filterList = (filterInfo) => {\r\n        const dayFilter = filterInfo.day\r\n        let includeWeekDay;\r\n        if (filterInfo.day <= 5 && filterInfo.day > 0) {\r\n            includeWeekDay = 7\r\n        } else {\r\n            includeWeekDay = -1\r\n        }\r\n        const timeStartFilter = filterInfo.startHour\r\n        const timeEndFilter = filterInfo.endHour\r\n        console.log('reached filterList')\r\n        // console.log(filteredPointsList)\r\n        setFilteredPointsList((unFilteredList) => {\r\n            console.log('reached')\r\n            let filteredList = new Array()\r\n            let flag = false\r\n            originPointsList.map(item => {\r\n                item.limit.map(month => {\r\n                    month.day.map(day => {\r\n                        console.log(day)\r\n                        if (day.num == dayFilter || day.num == 8 || day.num == includeWeekDay) {\r\n                            day.time.map(time => {\r\n                                console.log(time.startHour, time.endHour)\r\n                                if (time.endHour >= timeStartFilter && time.endHour <= timeEndFilter) {\r\n                                    flag = true\r\n                                }\r\n                            })\r\n                        }\r\n                    })\r\n                })\r\n                console.log('items here',item)\r\n                if (flag) filteredList.push(item)\r\n                flag = false\r\n            })\r\n            console.log(filteredList)\r\n            return filteredList\r\n        })\r\n    }\r\n\r\n    const deleteSpot = (sid) => {\r\n        console.log('deleteSpot',sid)\r\n        let newArray = originPointsList.filter(point => {\r\n            if (sid == point.id) {\r\n                return false\r\n            }\r\n            return true\r\n        })\r\n        console.log('newArray',newArray)\r\n        setOriginPointsList(newArray)\r\n        setFilteredPointsList(newArray)\r\n    }\r\n\r\n    const resetFilter = () => {\r\n        setFilteredPointsList(originPointsList)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <Map onClickIcon={clickIcon} pointsList={filteredPointsList}/>\r\n            <SidePanel info={info} onFilter={filterList} onReset={resetFilter} onDeleteSpot={deleteSpot}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nimport styles from './Point.module.css'\r\nimport {useMapEvents} from \"react-leaflet\";\r\n\r\nconst Point = (props) => {\r\n    const map = useMapEvents({\r\n        click: (e) => {\r\n            console.log(e)\r\n            props.onClickPoint(e.latlng)\r\n            map.locate()\r\n        },\r\n        locationfound: (location) => {\r\n            console.log('location found:', location)\r\n        },\r\n    })\r\n    return null\r\n    /*return (\r\n        <div>\r\n            <div className={`${styles.pin} ${styles.bounce}`}></div>\r\n            <div className={styles.pulse}></div>\r\n        </div>\r\n    );*/\r\n};\r\n\r\nexport default Point;\r\n","import React, {useState} from 'react';\r\nimport styles from \"./AddPointMap.module.css\";\r\nimport GoogleMapReact from \"google-map-react\";\r\nimport Point from \"./Point\";\r\nimport {MapContainer, Marker, Popup, TileLayer, MapConsumer} from \"react-leaflet\";\r\n\r\nconst AddPointMap = (props) => {\r\n    const [position, setPosition] = useState({\r\n        lat: 45.498478,\r\n        lng: -73.567705,\r\n    })\r\n    const center = {\r\n        lat: 45.498478,\r\n        lng: -73.567705,\r\n    }\r\n    const zoom = 17\r\n\r\n    const clickMap = ({lat, lng}) => {\r\n        setPosition({\r\n            lat: lat,\r\n            lng: lng\r\n        })\r\n        props.onChoosePoint({\r\n            lat: lat,\r\n            lng: lng\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <div style={{ height: '100vh', width: '100%' }}>\r\n                <MapContainer style={{ height: '100vh', width: '100%' }} center={center} zoom={zoom} scrollWheelZoom={true}>\r\n                    <TileLayer\r\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    />\r\n                    <Point onClickPoint={clickMap}/>\r\n                    <Marker position={position}/>\r\n                </MapContainer>\r\n                {/*<GoogleMapReact\r\n                    bootstrapURLKeys={{ key: `${process.env.REACT_APP_GOOGLE_KEY}`}}\r\n                    defaultCenter={center}\r\n                    defaultZoom={zoom}\r\n                    onClick={clickMap}\r\n                >\r\n                    {position && <Point\r\n                        lat={position.lat}\r\n                        lng={position.lng}\r\n                    />}\r\n                </GoogleMapReact>*/}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPointMap;\r\n","import React, {useEffect,useState} from 'react';\r\nimport {DAY_MAP, MONTH_MAP} from \"../../../shared/util/DataMap\";\r\nimport {Button, Select, TimePicker} from \"antd\";\r\n\r\nimport styles from './DaySection.module.css'\r\n\r\nconst DaySection = (props) => {\r\n    const [showAdd, setShowAdd] = useState(true)\r\n    const [startTime, setStartTime] = useState({})\r\n    const [endTime, setEndTime] = useState({})\r\n    const [timeArray, setTimeArray] = useState([])\r\n\r\n    const changeStartTime = (value, valueString) => {\r\n        setStartTime({\r\n            startHour: valueString.slice(0,2),\r\n            startMinute: valueString.slice(3,5)\r\n        })\r\n    }\r\n\r\n    const changeEndTime = (value, valueString) => {\r\n        setEndTime({\r\n            endHour: valueString.slice(0,2),\r\n            endMinute: valueString.slice(3,5)\r\n        })\r\n    }\r\n\r\n    const submitTime = () => {\r\n        setTimeArray(prev => {\r\n            let newArray = prev.concat({\r\n                ...startTime,\r\n                ...endTime\r\n            })\r\n            props.onSubmitTime(newArray,props.index)\r\n            return newArray\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.daySectionWrapper}>\r\n            <div className={styles.dayTitle}>{DAY_MAP[props.day.num]}</div>\r\n            {timeArray && timeArray.length > 0 && timeArray.map((time, index) => {\r\n                return (\r\n                    <div key={index}>\r\n                        <div>{time.startHour}:{time.startMinute} to {time.endHour}:{time.endMinute}</div>\r\n                    </div>\r\n                )\r\n            })}\r\n            {showAdd && <div>\r\n                <TimePicker onChange={changeStartTime}/>\r\n                <TimePicker onChange={changeEndTime}/>\r\n                <Button style={{marginLeft: '10px'}} type=\"primary\" onClick={submitTime}>Add</Button>\r\n            </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DaySection;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {DatePicker, Space, Button, Select} from 'antd';\r\nimport {DAY_MAP, MONTH_MAP} from \"../../../shared/util/DataMap\";\r\nimport DaySection from \"./DaySection\";\r\nimport styles from './MonthSection.module.css'\r\nconst { Option } = Select\r\n\r\nconst MonthSection = (props) => {\r\n    const [dayArray, setDayArray] = useState([])\r\n    const [selectedDay, setSelectedDay] = useState(1)\r\n\r\n\r\n    const changeDay = (dayNum) => {\r\n        setSelectedDay(dayNum)\r\n        console.log(dayNum)\r\n    }\r\n\r\n    const submitDay = () => {\r\n        setDayArray(prev => {\r\n            console.log('day submitted',selectedDay)\r\n            const newArray = prev.concat({\r\n                num: selectedDay,\r\n                time: []\r\n            })\r\n            console.log('day submitted',newArray)\r\n            return newArray\r\n        })\r\n    }\r\n\r\n    // from the day section\r\n    const submitedTime = (value, index) => {\r\n        setDayArray(prev => {\r\n            prev[index].time = value\r\n            console.log('submitted time',prev)\r\n            props.onSubmitDay(prev, props.index)\r\n            return prev\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.monthSectionWrapper}>\r\n            <div className={styles.monthTitle}>{MONTH_MAP[props.month.monthStart]} to {MONTH_MAP[props.month.monthEnd]}</div>\r\n            {dayArray && dayArray.length > 0 && dayArray.map((day, index) => {\r\n                return (\r\n                    <DaySection key={index} day={day} index={index} onSubmitTime={submitedTime} />\r\n                )\r\n            })}\r\n            <div>\r\n                <Select onChange={changeDay} defaultValue={1}>\r\n                    <Option value={1}>Mon</Option>\r\n                    <Option value={2}>Tue</Option>\r\n                    <Option value={3}>Wed</Option>\r\n                    <Option value={4}>Thu</Option>\r\n                    <Option value={5}>Fri</Option>\r\n                    <Option value={6}>Sat</Option>\r\n                    <Option value={0}>Sun</Option>\r\n                    <Option value={7}>WeekDay</Option>\r\n                    <Option value={8}>AllWeek</Option>\r\n                </Select>\r\n                <Button style={{marginLeft: '10px'}} type=\"primary\" onClick={submitDay}>Add</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MonthSection;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport {DatePicker, Space, Button, Select, Alert, Input} from 'antd';\r\nimport {MONTH_MAP} from \"../../../shared/util/DataMap\";\r\nimport MonthSection from \"./MonthSection\";\r\nimport styles from './AddPointPanel.module.css'\r\nconst { Option } = Select\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst AddPointPanel = (props) => {\r\n    const [monthInfo, setMonthInfo] = useState({})\r\n    const [monthArray, setMonthArray] = useState([])\r\n    const [numSpots, setNumSpots] = useState(5)\r\n    const [inputError, setInputError] = useState({ifInputError: false, message: ''})\r\n\r\n    useEffect(() => {\r\n        setMonthArray([])\r\n    }, [props.sendSuccessful])\r\n\r\n    const reset = () => {\r\n        setMonthArray([])\r\n        setMonthInfo(prev => {\r\n            return {\r\n                monthStart: prev.monthStart,\r\n                monthEnd: prev.monthEnd,\r\n                day: []\r\n            }\r\n        })\r\n    }\r\n\r\n    const changeMonth = (date, dateString) => {\r\n        console.log('date String', dateString)\r\n        let monthStart = dateString[0].split('-')[1] - 1\r\n        let monthEnd = dateString[1].split('-')[1] - 1\r\n        setMonthInfo({\r\n            monthStart: monthStart,\r\n            monthEnd: monthEnd,\r\n            day: []\r\n            })\r\n    }\r\n\r\n    const submitMonth = () => {\r\n        setMonthArray((prev) => {\r\n            let newArray = prev.concat(monthInfo);\r\n            console.log(newArray)\r\n            return newArray\r\n        })\r\n    }\r\n\r\n    // from month section\r\n    const submitedDay = (value, index) => {\r\n        console.log('main section reached')\r\n        setMonthArray(prev => {\r\n            prev[index].day = value\r\n            console.log('main section',prev)\r\n            return prev\r\n        })\r\n    }\r\n\r\n    const setNumSpot = (e) => {\r\n        setNumSpots(e.target.value)\r\n    }\r\n\r\n    const submitObj = () => {\r\n        let emptyFlag = false\r\n        if (monthArray.length === 0) {\r\n            return setInputError({ifInputError: true, message: 'Month range is empty!'})\r\n        }\r\n        monthArray.map(month => {\r\n            if (month.day.length === 0) {\r\n                emptyFlag = true\r\n                setInputError({ifInputError: true, message: 'Day or time is empty!'})\r\n            }\r\n        })\r\n        console.log(monthArray)\r\n        if (emptyFlag) return\r\n\r\n        if (numSpots > 0 && numSpots < 50 ) {\r\n            setInputError({ifInputError: false, message: ''})\r\n            reset()\r\n            return props.onSubmitMonth(monthArray, numSpots)\r\n        }\r\n        setInputError({ifInputError: true, message: 'Number of Spots not valid!'})\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            {props.point && <div>\r\n                <div className={styles.positionWrapper}>\r\n                    <div>lat: {props.point.lat}</div>\r\n                    <div>lat: {props.point.lng}</div>\r\n                </div>\r\n                <div className={styles.addPointWrapper}>\r\n                    {monthArray && monthArray.length > 0 && monthArray.map((month, monthIndex) => {\r\n                        return (\r\n                            <MonthSection key={monthIndex} month={month} index={monthIndex} onSubmitDay={submitedDay}/>\r\n                        )\r\n                    })}\r\n                    <div style={{marginBottom: '10px'}}>\r\n                        <RangePicker onChange={changeMonth} picker=\"month\" bordered={false}/>\r\n                        <Button type=\"primary\" onClick={submitMonth}>Add</Button>\r\n                    </div>\r\n                    <div style={{ marginBottom: 16 }}>\r\n                        <Input addonBefore=\"Number of Spots\" defaultValue=\"5\" onChange={setNumSpot} />\r\n                    </div>\r\n                    <Button type=\"primary\" onClick={submitObj} loading={props.loading} style={{marginRight: '10px'}}>Submit</Button>\r\n\r\n                    <Button style={{marginBottom: '10px'}} type=\"dark\" onClick={reset}>Reset</Button>\r\n                    {props.error && <Alert message=\"Add spot failed\" type=\"error\"/>}\r\n                    {props.sendSuccessful && <Alert message=\"Add spot success\" type=\"success\"/>}\r\n                    {inputError.ifInputError && <Alert message={inputError.message} type=\"error\"/>}\r\n                </div>\r\n            </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPointPanel;\r\n","import React, { useState, useContext } from 'react';\r\nimport { Alert } from 'antd';\r\n\r\nimport AddPointMap from \"../components/AddPointMap\";\r\n\r\nimport styles from './AddPoint.module.css'\r\nimport AddPointPanel from \"../components/AddPointPanel\";\r\nimport { useHttpClient } from \"../../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../../shared/context/auth-context\";\r\n\r\nconst AddPoint = () => {\r\n    const [point,setPoint] = useState(null)\r\n    const [sendSuccessful, setSendSuccessful] = useState(false)\r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n    const auth = useContext(AuthContext)\r\n\r\n    const choosePoint = (info) => {\r\n        setPoint(info)\r\n    }\r\n\r\n    const submitMonth = (value, numSpots) => {\r\n        setPoint(prev => {\r\n            prev.limit = value\r\n            prev.numSpots = numSpots\r\n            // console.log('main main section',prev)\r\n            return prev\r\n        })\r\n        postPoint()\r\n    }\r\n\r\n    const postPoint = async() => {\r\n        console.log('send post point',point)\r\n        try {\r\n            const responseData = await sendRequest('spot/postSpot', 'POST',\r\n                JSON.stringify(point),\r\n                {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: 'Bearer ' + auth.token\r\n                }\r\n            )\r\n            if (!error) {\r\n                setSendSuccessful(true)\r\n\r\n                setTimeout(() => {\r\n                    setPoint(null)\r\n                    setSendSuccessful(false)\r\n                }, 5000)\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n            setTimeout(() => {\r\n                clearError()\r\n            },5000)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n\r\n            <AddPointMap onChoosePoint={choosePoint}/>\r\n            {point == null && <div className={styles.noInfoWrapper}>\r\n                <div className={styles.noInfoSection}>No point is choosen, please click on the map to choose a point</div>\r\n            </div>}\r\n            {point && <AddPointPanel point={point} error={error} sendSuccessful={sendSuccessful} loading={isLoading}\r\n                            onSubmitMonth={submitMonth}/>}\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPoint;\r\n","import logo from './logo.svg';\nimport './App.css';\nimport React, {useContext} from \"react\";\nimport {\n    HashRouter as Router,\n    Route,\n    Redirect,\n    Switch,\n    useHistory\n} from 'react-router-dom';\n\nimport {useAuth} from \"./shared/hooks/auth-hook\";\nimport {AuthContext} from \"./shared/context/auth-context\";\nimport Auth from \"./pages/user/pages/Auth\";\nimport Map from \"./pages/main/components/Map\";\nimport MainNavigation from \"./shared/components/Navigation/MainNavigation\";\nimport Main from \"./pages/main/pages/Main\";\nimport AddPoint from \"./pages/add-point/pages/AddPoint\";\n\nfunction App() {\n    const {token, logout, login, userId} = useAuth()\n    const auth = useContext(AuthContext)\n\n    let routes\n\n    if (!!token) {\n        routes = (\n            <Switch>\n                <Route path=\"/\" exact>\n                    <Main />\n                </Route>\n                <Route path=\"/add-point\">\n                    <AddPoint />\n                </Route>\n                <Redirect to=\"/\"/>\n            </Switch>\n        )\n    } else {\n        routes = (\n            <Switch>\n                <Route path=\"/\" exact>\n                    <Main />\n                </Route>\n\n                <Route path=\"/login\">\n                    <Auth />\n                </Route>\n                <Redirect to=\"/\"/>\n            </Switch>\n        )\n    }\n\n    return (\n        <AuthContext.Provider value={{\n            isLoggedIn: !!token,\n            token: token,\n            userId: userId,\n            login: login,\n            logout: logout\n        }}>\n            <Router>\n                <div style={{display: 'flex'}}>\n                    <MainNavigation/>\n                    {routes}\n                </div>\n\n            </Router>\n\n        </AuthContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport \"antd/dist/antd.css\";\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoCardWrapper\":\"PointInfoCard_infoCardWrapper__3j5eB\",\"dayWrapper\":\"PointInfoCard_dayWrapper__10XXc\",\"dayTitle\":\"PointInfoCard_dayTitle__3SaGm\",\"timeStyle\":\"PointInfoCard_timeStyle__2JlqC\",\"monthWrapper\":\"PointInfoCard_monthWrapper__bHqi9\",\"spliter\":\"PointInfoCard_spliter__N4MSR\",\"spotsWrapper\":\"PointInfoCard_spotsWrapper__3OxqH\",\"positionWrapper\":\"PointInfoCard_positionWrapper__lcjGg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterWrapper\":\"Filter_filterWrapper__1kWUk\",\"title\":\"Filter_title__5-qNQ\",\"inputsWrapper\":\"Filter_inputsWrapper__12LOi\",\"btnWrapper\":\"Filter_btnWrapper__-hGQM\"};"],"sourceRoot":""}