{"version":3,"sources":["pages/user/pages/Auth.module.css","pages/add-point/pages/AddPoint.module.css","pages/add-point/components/AddPointPanel.module.css","pages/main/components/SidePanel.module.css","pages/add-point/components/DaySection.module.css","pages/add-point/components/MonthSection.module.css","pages/main/components/Map.module.css","pages/main/components/MapPoint.module.css","shared/components/Navigation/MainNavigation.module.css","pages/main/pages/Main.module.css","pages/add-point/components/AddPointMap.module.css","pages/add-point/components/Point.module.css","shared/hooks/auth-hook.js","logo.svg","shared/context/auth-context.js","shared/hooks/http-hook.js","pages/user/pages/Auth.js","pages/main/components/Map.js","shared/components/Navigation/MainNavigation.js","pages/main/components/Filter.js","shared/util/DataMap.js","pages/main/components/PointInfoCard.js","pages/main/components/SidePanel.js","pages/main/pages/Main.js","pages/add-point/components/Point.js","pages/add-point/components/AddPointMap.js","pages/add-point/components/DaySection.js","pages/add-point/components/MonthSection.js","pages/add-point/components/AddPointPanel.js","pages/add-point/pages/AddPoint.js","App.js","reportWebVitals.js","index.js","pages/main/components/PointInfoCard.module.css","pages/main/components/Filter.module.css"],"names":["module","exports","logoutTimer","AuthContext","createContext","isLoggedIn","userId","token","login","logout","useHttpClient","useState","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortControl","AbortController","current","push","fullUrl","process","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","layout","labelCol","span","wrapperCol","tailLayout","offset","reducer","state","action","type","isSignup","authTitle","submitBtn","sideBtn","Auth","auth","useContext","useHistory","useReducer","authState","dispatch","loginHandler","values","JSON","stringify","email","password","console","log","setTimeout","signupHandler","name","className","styles","pageWrapper","formWrapper","formTitle","initialValues","remember","onFinish","onFinishFailed","errorInfo","Item","label","rules","required","Password","loading","style","marginRight","htmlType","onClick","Map","props","currentZoom","setClickIndex","height","width","MapContainer","center","lat","lng","zoom","scrollWheelZoom","TileLayer","attribution","pointsList","length","map","info","index","Marker","position","eventHandlers","click","onClickIcon","clickIcon","Popup","href","MainNavigation","Menu","SubMenu","e","menu","defaultSelectedKeys","defaultOpenKeys","mode","ItemGroup","title","to","Option","Select","Filter","day","setDay","startHour","setStartHour","endHour","setEndHour","filterWrapper","inputsWrapper","Group","compact","onChange","value","defaultValue","marginLeft","Array","fill","el","i","borderLeft","borderRight","pointerEvents","placeholder","disabled","btnWrapper","onFilter","onReset","MONTH_MAP","0","1","2","3","4","5","6","7","8","9","10","11","DAY_MAP","PointInfoCard","infoCardWrapper","limit","month","monthWrapper","monthStart","monthEnd","spliter","dayWrapper","dayTitle","num","timeStyle","time","startMinute","endMinute","spotsWrapper","numSpots","positionWrapper","creator","danger","onDeleteSpot","SidePanel","successState","setSuccessState","showAds","setShowAds","deleteSpot","id","Authorization","advertisement","textDecoration","filterInfo","marginTop","Main","setInfo","filteredPointsList","setFilteredPointsList","originPointsList","setOriginPointsList","spot","sendPointsReq","includeWeekDay","dayFilter","timeStartFilter","timeEndFilter","unFilteredList","filteredList","flag","item","sid","newArray","point","Point","useMapEvents","onClickPoint","latlng","locate","locationfound","location","AddPointMap","setPosition","onChoosePoint","DaySection","showAdd","startTime","setStartTime","endTime","setEndTime","timeArray","setTimeArray","daySectionWrapper","valueString","slice","prev","concat","onSubmitTime","MonthSection","dayArray","setDayArray","selectedDay","setSelectedDay","submitedTime","onSubmitDay","monthSectionWrapper","monthTitle","dayNum","RangePicker","DatePicker","AddPointPanel","monthInfo","setMonthInfo","monthArray","setMonthArray","setNumSpots","ifInputError","inputError","setInputError","sendSuccessful","reset","submitedDay","addPointWrapper","monthIndex","marginBottom","date","dateString","split","picker","bordered","addonBefore","target","emptyFlag","onSubmitMonth","AddPoint","setPoint","setSendSuccessful","postPoint","noInfoWrapper","noInfoSection","App","routes","setToken","tokenTimeOut","setTokenTimeOut","setUserId","uid","expirationDate","tokenExpirationDate","Date","getTime","localStorage","setItem","expiration","toISOString","removeItem","remainingTime","clearTimeout","storedData","parse","getItem","useAuth","path","exact","Provider","display","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4ed14d35.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"Auth_pageWrapper__1Pm6y\",\"formWrapper\":\"Auth_formWrapper__3I0l-\",\"formTitle\":\"Auth_formTitle__1GJoM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"AddPoint_pageWrapper__30xtN\",\"noInfoWrapper\":\"AddPoint_noInfoWrapper__2h-MF\",\"noInfoSection\":\"AddPoint_noInfoSection__3b07K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"AddPointPanel_pageWrapper__2_XrY\",\"positionWrapper\":\"AddPointPanel_positionWrapper__2SzJY\",\"addPointWrapper\":\"AddPointPanel_addPointWrapper__fU6cO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"SidePanel_pageWrapper__1fJhL\",\"advertisement\":\"SidePanel_advertisement__1v1Zg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"daySectionWrapper\":\"DaySection_daySectionWrapper__11eth\",\"dayTitle\":\"DaySection_dayTitle__LeLSK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"monthSectionWrapper\":\"MonthSection_monthSectionWrapper__17od0\",\"monthTitle\":\"MonthSection_monthTitle__3ZJ45\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"Map_pageWrapper__8XAQo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pin\":\"MapPoint_pin__1VJWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"MainNavigation_menu__ArWsl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"Main_pageWrapper__33Oqw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"AddPointMap_pageWrapper__2UzRL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pin\":\"Point_pin__3g0Rv\",\"bounce\":\"Point_bounce__1EeBc\",\"pulse\":\"Point_pulse__3Awnq\",\"pulsate\":\"Point_pulsate__1Wqz7\"};","import {useCallback, useEffect, useState} from \"react\";\r\n\r\nlet logoutTimer;\r\n\r\nexport const useAuth = () => {\r\n    console.log('app is rerendering')\r\n\r\n    const [token, setToken] = useState(false)\r\n    const [tokenTimeOut, setTokenTimeOut] = useState()\r\n    const [userId, setUserId] = useState()\r\n\r\n    /**\r\n     * put userId, token, and expirationDate in it\r\n     * @type {function(*=, *=, *=): void}\r\n     */\r\n    const login = useCallback((uid, token, expirationDate) => {\r\n        console.log(uid)\r\n        setUserId(uid)\r\n        setToken(token)\r\n        const tokenExpirationDate = expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60)\r\n        setTokenTimeOut(tokenExpirationDate)\r\n        localStorage.setItem('userData', JSON.stringify({\r\n            userId: uid,\r\n            token: token,\r\n            expiration: tokenExpirationDate.toISOString()\r\n        }))\r\n    }, [])\r\n\r\n    const logout = useCallback(() => {\r\n        setToken(token)\r\n        setTokenTimeOut(null)\r\n        setUserId(null)\r\n        localStorage.removeItem('userData')\r\n\r\n    }, [])\r\n\r\n    // auto timeout login\r\n    useEffect(() => {\r\n        console.log('timeout reached')\r\n        if (token && tokenTimeOut) {\r\n            const remainingTime = tokenTimeOut.getTime() - new Date().getTime()\r\n            logoutTimer = setTimeout(logout, remainingTime)\r\n        } else {\r\n            clearTimeout(logoutTimer)\r\n        }\r\n    },[token, logout, tokenTimeOut])\r\n\r\n    // auto login\r\n    useEffect(() => {\r\n        const storedData = JSON.parse(localStorage.getItem('userData'))\r\n        if (storedData &&\r\n            storedData.token &&\r\n            new Date(storedData.expiration) > new Date()\r\n        ) {\r\n            login(storedData.userId, storedData.token)\r\n        }\r\n    }, [login])\r\n\r\n    return {\r\n        token,\r\n        login,\r\n        logout,\r\n        userId\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import {createContext} from 'react'\r\n\r\nexport const AuthContext = createContext({\r\n    isLoggedIn: false,\r\n    userId: null,\r\n    token: null,\r\n    login: () => {\r\n    },\r\n\r\n    logout: () => {\r\n    }\r\n})\r\n","import { useState, useCallback, useEffect, useRef } from 'react'\r\n\r\nexport const useHttpClient = () => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [error, setError] = useState()\r\n\r\n    const activeHttpRequests = useRef([])\r\n\r\n    const sendRequest = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n        setIsLoading(true)\r\n        const httpAbortControl = new AbortController()\r\n        activeHttpRequests.current.push(httpAbortControl)\r\n        let fullUrl = process.env.REACT_APP_API_URL + url\r\n            try {\r\n                const response = await fetch(fullUrl, {\r\n                    method,\r\n                    body,\r\n                    headers,\r\n                    signal: httpAbortControl.signal\r\n                })\r\n\r\n                const responseData = await response.json()\r\n\r\n                activeHttpRequests.current = activeHttpRequests.current.filter(\r\n                    reqCtrl => reqCtrl !== httpAbortControl\r\n                )\r\n\r\n                setIsLoading(false)\r\n\r\n                if (!response.ok) {\r\n                    throw new Error(responseData.message)\r\n                }\r\n\r\n                return responseData\r\n            } catch (err) {\r\n                setError(err.message)\r\n                setIsLoading(false)\r\n                throw err;\r\n            }\r\n        }, [])\r\n\r\n    const clearError = () => {\r\n        setError(null)\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort())\r\n        }\r\n    }, [])\r\n\r\n    return { isLoading, error, sendRequest, clearError }\r\n}\r\n","import React, { useContext, useState, useReducer } from 'react';\r\nimport { Form, Input, Button, Checkbox, Switch } from 'antd';\r\n\r\nimport styles from './Auth.module.css'\r\nimport { AuthContext } from \"../../../shared/context/auth-context\";\r\nimport { useHttpClient } from \"../../../shared/hooks/http-hook\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useAuth} from \"../../../shared/hooks/auth-hook\";\r\n\r\nconst layout = {\r\n    labelCol: {\r\n        span: 8,\r\n    },\r\n    wrapperCol: {\r\n        span: 16,\r\n    },\r\n};\r\nconst tailLayout = {\r\n    wrapperCol: {\r\n        offset: 8,\r\n        span: 16,\r\n    },\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'switch':\r\n            if (state.isSignup === false) {\r\n                return {\r\n                    isSignup: true,\r\n                    authTitle: 'Sign Up',\r\n                    submitBtn: 'Sign Up',\r\n                    sideBtn: 'Login'\r\n                }\r\n            } else {\r\n                return {\r\n                    isSignup: false,\r\n                    authTitle: 'Login',\r\n                    submitBtn: 'Login',\r\n                    sideBtn: 'Sign Up',\r\n                }\r\n            }\r\n    }\r\n}\r\n\r\nconst Auth = () => {\r\n    const auth = useContext(AuthContext)\r\n    const history = useHistory()\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n\r\n    const [authState, dispatch] = useReducer(reducer, {\r\n        isSignup: false,\r\n        authTitle: 'Login',\r\n        submitBtn: 'Login',\r\n        sideBtn: 'Sign Up',\r\n    })\r\n\r\n    const [isSignup, setIsSignup] = useState(false)\r\n\r\n    const onFinish = (values) => {\r\n        console.log('Success:', values);\r\n        if (authState.isSignup) {\r\n            signupHandler(values)\r\n        } else {\r\n            loginHandler(values)\r\n        }\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    const loginHandler = async (values) => {\r\n        try {\r\n            const responseData = await sendRequest('users/login', 'POST',\r\n                JSON.stringify({\r\n                    email: values.email,\r\n                    password: values.password\r\n                }),\r\n                {'Content-Type': 'application/json'}\r\n            )\r\n            auth.login(responseData.userId, responseData.token)\r\n            // console.log('signing in', responseData.weekObj)\r\n\r\n            // console.log(auth.userId)\r\n        } catch (e) {\r\n            console.log(e)\r\n            setTimeout(() => {\r\n                clearError()\r\n            },5000)\r\n        }\r\n    }\r\n\r\n    const switchState = () => {\r\n        dispatch({type: 'switch'})\r\n    }\r\n\r\n    const signupHandler = async (values) => {\r\n        try {\r\n            const responseData = await sendRequest('users/signup', 'POST',\r\n                JSON.stringify({\r\n                    name: values.name,\r\n                    email: values.email,\r\n                    password: values.password\r\n                }),\r\n                {'Content-Type': 'application/json'}\r\n            )\r\n        } catch (e) {\r\n            console.log(e)\r\n            setTimeout(() => {\r\n                clearError()\r\n            },5000)\r\n        }\r\n        await loginHandler(values)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <div className={styles.formWrapper}>\r\n                <div className={styles.formTitle}>{authState.authTitle}</div>\r\n                <Form\r\n                    {...layout}\r\n                    name=\"basic\"\r\n                    initialValues={{\r\n                        remember: true,\r\n                    }}\r\n                    onFinish={onFinish}\r\n                    onFinishFailed={onFinishFailed}\r\n                >\r\n\r\n                    {authState.isSignup && <Form.Item\r\n                        label=\"Name\"\r\n                        name=\"name\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please give your account a name!',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input/>\r\n                    </Form.Item>}\r\n\r\n                    <Form.Item\r\n                        label=\"Email\"\r\n                        name=\"email\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input your email!',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Password\"\r\n                        name=\"password\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input your password!',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input.Password />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item {...tailLayout}>\r\n                        <Button loading={isLoading} style={{marginRight: '10px'}} type=\"primary\" htmlType=\"submit\">\r\n                            {authState.submitBtn}\r\n                        </Button>\r\n                        <Button type=\"dark\" onClick={switchState} >\r\n                            {authState.sideBtn}\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Auth;\r\n","import React, { useState } from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet'\r\n\r\nimport styles from './Map.module.css'\r\nimport MapPoint from \"./MapPoint\";\r\n\r\n\r\nconst Map = (props) => {\r\n    const center = {\r\n            lat: 45.498478,\r\n            lng: -73.567705,\r\n        }\r\n    const zoom = 17\r\n\r\n    const [currentZoom, setCurrentZoom] = useState(zoom)\r\n    const [clickIndex,setClickIndex] = useState()\r\n\r\n    const clickMap = ({ x, y, lat, lng, event }) => {\r\n\r\n        console.log(lat,lng)\r\n    }\r\n    const setZoom = (zoomLeve) => {\r\n        setCurrentZoom(zoomLeve)\r\n    }\r\n\r\n    const clickIcon = (info, index) => {\r\n        setClickIndex(index)\r\n        props.onClickIcon(info)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <div style={{ height: '100vh', width: '100%' }}>\r\n                <MapContainer style={{ height: '100vh', width: '100%' }} center={center} zoom={zoom} scrollWheelZoom={true}>\r\n                    <TileLayer\r\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    />\r\n                    { currentZoom > 14 && props.pointsList && props.pointsList.length > 0 && props.pointsList.map((info, index) => {\r\n                        return (\r\n                            <Marker\r\n                                position={{lat: info.lat, lng: info.lng}}\r\n                                eventHandlers={{\r\n                                    click: () => clickIcon(info, index),\r\n                                }}\r\n                            >\r\n                                <Popup>\r\n                                    <a href={`http://maps.google.com/?q=${info.lat},${info.lng}`}>Go to Google Map</a>\r\n                                </Popup>\r\n                            </Marker>\r\n                        )\r\n                    })}\r\n                </MapContainer>\r\n                {/*<GoogleMapReact*/}\r\n                {/*    bootstrapURLKeys={{ key: `${process.env.REACT_APP_GOOGLE_KEY}`}}*/}\r\n                {/*    defaultCenter={center}*/}\r\n                {/*    defaultZoom={zoom}*/}\r\n                {/*    onClick={clickMap}*/}\r\n                {/*    onZoomAnimationEnd ={setZoom}*/}\r\n                {/*>*/}\r\n                {/*    { currentZoom > 14 && props.pointsList && props.pointsList.length > 0 && props.pointsList.map((info, index) => {*/}\r\n                {/*        return (<MapPoint*/}\r\n                {/*            lat={info.lat}*/}\r\n                {/*            lng={info.lng}*/}\r\n                {/*            info={info}*/}\r\n                {/*            index={index}*/}\r\n                {/*            clearClick={clickIndex}*/}\r\n                {/*            onClickIcon={clickIcon}*/}\r\n                {/*        />)*/}\r\n                {/*    })*/}\r\n                {/*    }*/}\r\n                {/*</GoogleMapReact>*/}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Map;\r\n","import React, { useContext } from 'react';\r\n\r\nimport { Menu } from 'antd';\r\nimport { AppstoreOutlined, MailOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom'\r\nimport { AuthContext } from \"../../context/auth-context\";\r\nimport {useAuth} from \"../../hooks/auth-hook\";\r\nimport styles from './MainNavigation.module.css'\r\n\r\nconst { SubMenu } = Menu;\r\n\r\n\r\n\r\nconst MainNavigation = () => {\r\n    const auth = useContext(AuthContext)\r\n\r\n    const handleClick = e => {\r\n        console.log('click ', e);\r\n    };\r\n\r\n    const logoutMenu = () => {\r\n        auth.logout()\r\n    }\r\n\r\n    return (\r\n        <Menu\r\n            onClick={handleClick}\r\n            className={styles.menu}\r\n            style={{  height: '100vh' }}\r\n            defaultSelectedKeys={['map']}\r\n            defaultOpenKeys={['sub1']}\r\n            mode=\"vertical\"\r\n        >\r\n            <Menu.ItemGroup key=\"main\" title=\"Main Menu\">\r\n                <Menu.Item key=\"map\">\r\n                    <Link to={'/'}>Map</Link>\r\n                </Menu.Item>\r\n                {auth.isLoggedIn && <Menu.Item key=\"addPoint\">\r\n                    <Link to={'/add-point'}>Add Spot</Link>\r\n                </Menu.Item>}\r\n            </Menu.ItemGroup>\r\n\r\n            <Menu.ItemGroup key=\"user\" title=\"User\">\r\n                {!auth.isLoggedIn && <Menu.Item key=\"login\">\r\n                    <Link to={'/login'}>Login</Link>\r\n                </Menu.Item>}\r\n                {auth.isLoggedIn && <Menu.Item key=\"logout\">\r\n                    <Link onClick={logoutMenu}>Log Out</Link>\r\n                </Menu.Item>}\r\n            </Menu.ItemGroup>\r\n        </Menu>\r\n    );\r\n};\r\n\r\nexport default MainNavigation;\r\n","import React, { useState } from 'react';\r\n\r\nimport { Input, Select, Button } from 'antd';\r\n\r\nimport styles from './Filter.module.css'\r\nconst { Option } = Select;\r\n\r\nconst Filter = (props) => {\r\n    const [day, setDay] = useState(1)\r\n    const [startHour, setStartHour] = useState(1)\r\n    const [endHour, setEndHour] = useState(23)\r\n\r\n\r\n    const filter = () => {\r\n        props.onFilter({\r\n            day,\r\n            startHour,\r\n            endHour\r\n        })\r\n    }\r\n\r\n    const changeDay = (value) => {\r\n        setDay(value)\r\n    }\r\n\r\n    const changeStartHour = (value) => {\r\n        setStartHour(value)\r\n    }\r\n\r\n    const changeEndHour = (value) => {\r\n        setEndHour(value)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.filterWrapper}>\r\n            <div className={styles.title}>Time Filter</div>\r\n            <div className={styles.inputsWrapper}>\r\n                <Input.Group compact>\r\n                    <Select onChange={changeDay} defaultValue={1}>\r\n                        <Option value={1}>Mon</Option>\r\n                        <Option value={2}>Tue</Option>\r\n                        <Option value={3}>Wed</Option>\r\n                        <Option value={4}>Thu</Option>\r\n                        <Option value={5}>Fri</Option>\r\n                        <Option value={6}>Sat</Option>\r\n                        <Option value={0}>Sun</Option>\r\n                    </Select>\r\n                    <Select onChange={changeStartHour} defaultValue={1} style={{marginLeft: '10px'}} >\r\n                        {Array(24).fill(1).map((el, i) =>\r\n                            <Option key={i} value={i}>{i}:00</Option>\r\n                        )}\r\n                    </Select>\r\n                    <Input\r\n                        className=\"site-input-split\"\r\n                        style={{\r\n                            width: 30,\r\n                            borderLeft: 0,\r\n                            borderRight: 0,\r\n                            pointerEvents: 'none',\r\n                        }}\r\n                        placeholder=\"~\"\r\n                        disabled\r\n                    />\r\n                    <Select onChange={changeEndHour} defaultValue={23}>\r\n                        {Array(24).fill(1).map((el, i) =>\r\n                            <Option key={i} value={i}>{i}:00</Option>\r\n                        )}\r\n                    </Select>\r\n                </Input.Group>\r\n                <div className={styles.btnWrapper}>\r\n                    <Button type=\"primary\" onClick={filter} style={{marginRight: '10px'}}>Filter</Button>\r\n                    <Button type=\"dark\" onClick={props.onReset}>Reset</Button>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Filter;\r\n","export const MONTH_MAP = {\r\n    0: 'Jan',\r\n    1: 'Feb',\r\n    2: 'Mar',\r\n    3: 'Apr',\r\n    4: 'May',\r\n    5: 'Jun',\r\n    6: 'Jul',\r\n    7: 'Aug',\r\n    8: 'Sep',\r\n    9: 'Oct',\r\n    10: 'Nov',\r\n    11: 'Dec'\r\n}\r\n\r\nexport const DAY_MAP = {\r\n    0: 'Sun',\r\n    1: 'Mon',\r\n    2: 'Tue',\r\n    3: 'Wed',\r\n    4: 'Thu',\r\n    5: 'Fri',\r\n    6: 'Sat',\r\n    7: 'WeekDay',\r\n    8: 'All Week',\r\n}\r\n","import React from 'react';\r\nimport { Button } from 'antd';\r\n\r\nimport styles from './PointInfoCard.module.css'\r\nimport {DAY_MAP, MONTH_MAP} from \"../../../shared/util/DataMap\";\r\n\r\nconst PointInfoCard = (props) => {\r\n    return (\r\n        <div className={styles.infoCardWrapper}>\r\n\r\n            {props.info.limit && props.info.limit.map((month, index) => {\r\n                return (\r\n                    <div key={index}>\r\n                        <div className={styles.monthWrapper}>{MONTH_MAP[month.monthStart]} to {MONTH_MAP[month.monthEnd]}</div>\r\n                        <div className={styles.spliter}/>\r\n                        {month.day.map((day, index) => {\r\n                            return (\r\n                                <div key={index} className={styles.dayWrapper}>\r\n                                    <div className={styles.dayTitle}>{DAY_MAP[day.num]}:</div>\r\n                                    <div className={styles.timeStyle}>\r\n                                        {day.time.map((time, index) => {\r\n                                            return (\r\n                                                <div>{`${time.startHour}:${time.startMinute} to ${time.endHour}:${time.endMinute}`}</div>\r\n                                            )\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }) }\r\n                        <div className={styles.spliter}/>\r\n                    </div>\r\n                )\r\n            })}\r\n            <div className={styles.spotsWrapper}>\r\n                <div>Spots Amount :</div>\r\n                <div>{props.info.numSpots}</div>\r\n            </div>\r\n            <div className={styles.positionWrapper}>\r\n                <div>{props.info.lat},{props.info.lng}</div>\r\n            </div>\r\n            <div className={styles.positionWrapper}>\r\n                <a href={`http://maps.google.com/?q=${props.info.lat},${props.info.lng}`}>Go to Google Map</a>\r\n\r\n            </div>\r\n            <div className={styles.positionWrapper}>\r\n                {props.info.creator === props.userId && <Button type=\"primary\" danger onClick={() => props.onDeleteSpot()}>\r\n                    Delete\r\n                </Button>}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PointInfoCard;\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport { Alert } from 'antd';\r\n\r\nimport styles from './SidePanel.module.css'\r\n\r\nimport Filter from \"./Filter\";\r\nimport { MONTH_MAP, DAY_MAP } from \"../../../shared/util/DataMap\";\r\nimport PointInfoCard from \"./PointInfoCard\";\r\nimport {AuthContext} from \"../../../shared/context/auth-context\";\r\nimport {useAuth} from \"../../../shared/hooks/auth-hook\";\r\nimport {useHttpClient} from \"../../../shared/hooks/http-hook\";\r\n\r\nconst SidePanel = (props) => {\r\n    const auth = useContext(AuthContext)\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n    const [successState, setSuccessState] = useState(0)\r\n    const [showAds, setShowAds] = useState(true)\r\n\r\n    const filterList = (filterInfo) => {\r\n        props.onFilter(filterInfo)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setShowAds(false)\r\n        },8000)\r\n    }, [])\r\n\r\n    const deleteSpot = async() => {\r\n        // console.log(props.info)\r\n        try {\r\n            const responseData = await sendRequest(\r\n                `spot/deleteSpot/${props.info.id}`,\r\n                'DELETE', {}, {Authorization: 'Bearer ' + auth.token})\r\n            console.log(responseData)\r\n            if (!error) {\r\n                setSuccessState(1)\r\n                setTimeout(() => {\r\n                    setSuccessState(0)\r\n                }, 5000)\r\n                props.onDeleteSpot(props.info.id)\r\n            }\r\n        } catch (e) {\r\n            setSuccessState(2)\r\n            setTimeout(() => {\r\n                setSuccessState(0)\r\n            }, 5000)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            {showAds && <div className={styles.advertisement}>\r\n                <a href=\"https://www.linkedin.com/in/chang-anting-87a619a5/\" style={{textDecoration: 'underline'}}>\r\n                    Anting is currently looking for a FontEnd Dev job\r\n                </a>\r\n            </div>}\r\n            <Filter onFilter={filterList} onReset={() => props.onReset()}/>\r\n            {props.info !== null && <div>\r\n                <PointInfoCard loading={isLoading} info={props.info} userId={auth.userId} onDeleteSpot={deleteSpot} />\r\n            </div>}\r\n            {successState===1 && <Alert style={{marginTop: '10px'}} message=\"Successfully Deleted\" type=\"success\"/>}\r\n            {successState===2 && <Alert style={{marginTop: '10px'}} message=\"Delete failed\" type=\"danger\"/>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SidePanel;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Map from \"../components/Map\";\r\nimport SidePanel from \"../components/SidePanel\";\r\nimport { pointsList } from \"../../../shared/util/Points\";\r\nimport { useHttpClient } from \"../../../shared/hooks/http-hook\";\r\n\r\nimport styles from './Main.module.css'\r\n\r\nconst Main = () => {\r\n    const [info, setInfo] = useState(null)\r\n    const [filteredPointsList, setFilteredPointsList] = useState(null)\r\n    const [originPointsList, setOriginPointsList] = useState(null)\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n\r\n    useEffect(() => {\r\n        const sendPointsReq = async() => {\r\n            try {\r\n                const responseData = await sendRequest('spot/getAllSpots')\r\n                // console.log(responseData)\r\n                setFilteredPointsList(responseData.spot)\r\n                setOriginPointsList(responseData.spot)\r\n            } catch (e) {}\r\n        }\r\n        sendPointsReq()\r\n    }, [])\r\n\r\n    const clickIcon = (info) => {\r\n        setInfo(info)\r\n        console.log(info)\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(filteredPointsList)\r\n    }, [filteredPointsList])\r\n\r\n    const filterList = (filterInfo) => {\r\n        const dayFilter = filterInfo.day\r\n        let includeWeekDay;\r\n        if (filterInfo.day <= 5 && filterInfo.day > 0) {\r\n            includeWeekDay = 7\r\n        } else {\r\n            includeWeekDay = -1\r\n        }\r\n        const timeStartFilter = filterInfo.startHour\r\n        const timeEndFilter = filterInfo.endHour\r\n        console.log('reached filterList')\r\n        // console.log(filteredPointsList)\r\n        setFilteredPointsList((unFilteredList) => {\r\n            console.log('reached')\r\n            let filteredList = new Array()\r\n            let flag = false\r\n            originPointsList.map(item => {\r\n                item.limit.map(month => {\r\n                    month.day.map(day => {\r\n                        console.log(day)\r\n                        if (day.num == dayFilter || day.num == 8 || day.num == includeWeekDay) {\r\n                            day.time.map(time => {\r\n                                console.log(time.startHour, time.endHour)\r\n                                if (time.endHour >= timeStartFilter && time.endHour <= timeEndFilter) {\r\n                                    flag = true\r\n                                }\r\n                            })\r\n                        }\r\n                    })\r\n                })\r\n                console.log('items here',item)\r\n                if (flag) filteredList.push(item)\r\n                flag = false\r\n            })\r\n            console.log(filteredList)\r\n            return filteredList\r\n        })\r\n    }\r\n\r\n    const deleteSpot = (sid) => {\r\n        console.log('deleteSpot',sid)\r\n        let newArray = originPointsList.filter(point => {\r\n            if (sid == point.id) {\r\n                return false\r\n            }\r\n            return true\r\n        })\r\n        console.log('newArray',newArray)\r\n        setOriginPointsList(newArray)\r\n        setFilteredPointsList(newArray)\r\n    }\r\n\r\n    const resetFilter = () => {\r\n        setFilteredPointsList(originPointsList)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <Map onClickIcon={clickIcon} pointsList={filteredPointsList}/>\r\n            <SidePanel info={info} onFilter={filterList} onReset={resetFilter} onDeleteSpot={deleteSpot}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nimport styles from './Point.module.css'\r\nimport {useMapEvents} from \"react-leaflet\";\r\n\r\nconst Point = (props) => {\r\n    const map = useMapEvents({\r\n        click: (e) => {\r\n            console.log(e)\r\n            props.onClickPoint(e.latlng)\r\n            map.locate()\r\n        },\r\n        locationfound: (location) => {\r\n            console.log('location found:', location)\r\n        },\r\n    })\r\n    return null\r\n    /*return (\r\n        <div>\r\n            <div className={`${styles.pin} ${styles.bounce}`}></div>\r\n            <div className={styles.pulse}></div>\r\n        </div>\r\n    );*/\r\n};\r\n\r\nexport default Point;\r\n","import React, {useState} from 'react';\r\nimport styles from \"./AddPointMap.module.css\";\r\nimport GoogleMapReact from \"google-map-react\";\r\nimport Point from \"./Point\";\r\nimport {MapContainer, Marker, Popup, TileLayer, MapConsumer} from \"react-leaflet\";\r\n\r\nconst AddPointMap = (props) => {\r\n    const [position, setPosition] = useState({\r\n        lat: 45.498478,\r\n        lng: -73.567705,\r\n    })\r\n    const center = {\r\n        lat: 45.498478,\r\n        lng: -73.567705,\r\n    }\r\n    const zoom = 17\r\n\r\n    const clickMap = ({lat, lng}) => {\r\n        setPosition({\r\n            lat: lat,\r\n            lng: lng\r\n        })\r\n        props.onChoosePoint({\r\n            lat: lat,\r\n            lng: lng\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            <div style={{ height: '100vh', width: '100%' }}>\r\n                <MapContainer style={{ height: '100vh', width: '100%' }} center={center} zoom={zoom} scrollWheelZoom={true}>\r\n                    <TileLayer\r\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    />\r\n                    <Point onClickPoint={clickMap}/>\r\n                    <Marker position={position}/>\r\n                </MapContainer>\r\n                {/*<GoogleMapReact\r\n                    bootstrapURLKeys={{ key: `${process.env.REACT_APP_GOOGLE_KEY}`}}\r\n                    defaultCenter={center}\r\n                    defaultZoom={zoom}\r\n                    onClick={clickMap}\r\n                >\r\n                    {position && <Point\r\n                        lat={position.lat}\r\n                        lng={position.lng}\r\n                    />}\r\n                </GoogleMapReact>*/}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPointMap;\r\n","import React, {useEffect,useState} from 'react';\r\nimport {DAY_MAP, MONTH_MAP} from \"../../../shared/util/DataMap\";\r\nimport {Button, Select, TimePicker} from \"antd\";\r\n\r\nimport styles from './DaySection.module.css'\r\n\r\nconst DaySection = (props) => {\r\n    const [showAdd, setShowAdd] = useState(true)\r\n    const [startTime, setStartTime] = useState({})\r\n    const [endTime, setEndTime] = useState({})\r\n    const [timeArray, setTimeArray] = useState([])\r\n\r\n    const changeStartTime = (value, valueString) => {\r\n        setStartTime({\r\n            startHour: valueString.slice(0,2),\r\n            startMinute: valueString.slice(3,5)\r\n        })\r\n    }\r\n\r\n    const changeEndTime = (value, valueString) => {\r\n        setEndTime({\r\n            endHour: valueString.slice(0,2),\r\n            endMinute: valueString.slice(3,5)\r\n        })\r\n    }\r\n\r\n    const submitTime = () => {\r\n        setTimeArray(prev => {\r\n            let newArray = prev.concat({\r\n                ...startTime,\r\n                ...endTime\r\n            })\r\n            props.onSubmitTime(newArray,props.index)\r\n            return newArray\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.daySectionWrapper}>\r\n            <div className={styles.dayTitle}>{DAY_MAP[props.day.num]}</div>\r\n            {timeArray && timeArray.length > 0 && timeArray.map((time, index) => {\r\n                return (\r\n                    <div key={index}>\r\n                        <div>{time.startHour}:{time.startMinute} to {time.endHour}:{time.endMinute}</div>\r\n                    </div>\r\n                )\r\n            })}\r\n            {showAdd && <div>\r\n                <TimePicker onChange={changeStartTime}/>\r\n                <TimePicker onChange={changeEndTime}/>\r\n                <Button style={{marginLeft: '10px'}} type=\"primary\" onClick={submitTime}>Add</Button>\r\n            </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DaySection;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {DatePicker, Space, Button, Select} from 'antd';\r\nimport {DAY_MAP, MONTH_MAP} from \"../../../shared/util/DataMap\";\r\nimport DaySection from \"./DaySection\";\r\nimport styles from './MonthSection.module.css'\r\nconst { Option } = Select\r\n\r\nconst MonthSection = (props) => {\r\n    const [dayArray, setDayArray] = useState([])\r\n    const [selectedDay, setSelectedDay] = useState(1)\r\n\r\n\r\n    const changeDay = (dayNum) => {\r\n        setSelectedDay(dayNum)\r\n        console.log(dayNum)\r\n    }\r\n\r\n    const submitDay = () => {\r\n        setDayArray(prev => {\r\n            console.log('day submitted',selectedDay)\r\n            const newArray = prev.concat({\r\n                num: selectedDay,\r\n                time: []\r\n            })\r\n            console.log('day submitted',newArray)\r\n            return newArray\r\n        })\r\n    }\r\n\r\n    // from the day section\r\n    const submitedTime = (value, index) => {\r\n        setDayArray(prev => {\r\n            prev[index].time = value\r\n            console.log('submitted time',prev)\r\n            props.onSubmitDay(prev, props.index)\r\n            return prev\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.monthSectionWrapper}>\r\n            <div className={styles.monthTitle}>{MONTH_MAP[props.month.monthStart]} to {MONTH_MAP[props.month.monthEnd]}</div>\r\n            {dayArray && dayArray.length > 0 && dayArray.map((day, index) => {\r\n                return (\r\n                    <DaySection key={index} day={day} index={index} onSubmitTime={submitedTime} />\r\n                )\r\n            })}\r\n            <div>\r\n                <Select onChange={changeDay} defaultValue={1}>\r\n                    <Option value={1}>Mon</Option>\r\n                    <Option value={2}>Tue</Option>\r\n                    <Option value={3}>Wed</Option>\r\n                    <Option value={4}>Thu</Option>\r\n                    <Option value={5}>Fri</Option>\r\n                    <Option value={6}>Sat</Option>\r\n                    <Option value={0}>Sun</Option>\r\n                    <Option value={7}>WeekDay</Option>\r\n                    <Option value={8}>AllWeek</Option>\r\n                </Select>\r\n                <Button style={{marginLeft: '10px'}} type=\"primary\" onClick={submitDay}>Add</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MonthSection;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport {DatePicker, Space, Button, Select, Alert, Input} from 'antd';\r\nimport {MONTH_MAP} from \"../../../shared/util/DataMap\";\r\nimport MonthSection from \"./MonthSection\";\r\nimport styles from './AddPointPanel.module.css'\r\nconst { Option } = Select\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst AddPointPanel = (props) => {\r\n    const [monthInfo, setMonthInfo] = useState({})\r\n    const [monthArray, setMonthArray] = useState([])\r\n    const [numSpots, setNumSpots] = useState(5)\r\n    const [inputError, setInputError] = useState({ifInputError: false, message: ''})\r\n\r\n    useEffect(() => {\r\n        setMonthArray([])\r\n    }, [props.sendSuccessful])\r\n\r\n    const reset = () => {\r\n        setMonthArray([])\r\n        setMonthInfo(prev => {\r\n            return {\r\n                monthStart: prev.monthStart,\r\n                monthEnd: prev.monthEnd,\r\n                day: []\r\n            }\r\n        })\r\n    }\r\n\r\n    const changeMonth = (date, dateString) => {\r\n        console.log('date String', dateString)\r\n        let monthStart = dateString[0].split('-')[1] - 1\r\n        let monthEnd = dateString[1].split('-')[1] - 1\r\n        setMonthInfo({\r\n            monthStart: monthStart,\r\n            monthEnd: monthEnd,\r\n            day: []\r\n            })\r\n    }\r\n\r\n    const submitMonth = () => {\r\n        setMonthArray((prev) => {\r\n            let newArray = prev.concat(monthInfo);\r\n            console.log(newArray)\r\n            return newArray\r\n        })\r\n    }\r\n\r\n    // from month section\r\n    const submitedDay = (value, index) => {\r\n        console.log('main section reached')\r\n        setMonthArray(prev => {\r\n            prev[index].day = value\r\n            console.log('main section',prev)\r\n            return prev\r\n        })\r\n    }\r\n\r\n    const setNumSpot = (e) => {\r\n        setNumSpots(e.target.value)\r\n    }\r\n\r\n    const submitObj = () => {\r\n        let emptyFlag = false\r\n        if (monthArray.length === 0) {\r\n            return setInputError({ifInputError: true, message: 'Month range is empty!'})\r\n        }\r\n        monthArray.map(month => {\r\n            if (month.day.length === 0) {\r\n                emptyFlag = true\r\n                setInputError({ifInputError: true, message: 'Day or time is empty!'})\r\n            }\r\n        })\r\n        console.log(monthArray)\r\n        if (emptyFlag) return\r\n\r\n        if (numSpots > 0 && numSpots < 50 ) {\r\n            setInputError({ifInputError: false, message: ''})\r\n            reset()\r\n            return props.onSubmitMonth(monthArray, numSpots)\r\n        }\r\n        setInputError({ifInputError: true, message: 'Number of Spots not valid!'})\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n            {props.point && <div>\r\n                <div className={styles.positionWrapper}>\r\n                    <div>lat: {props.point.lat}</div>\r\n                    <div>lat: {props.point.lng}</div>\r\n                </div>\r\n                <div className={styles.addPointWrapper}>\r\n                    {monthArray && monthArray.length > 0 && monthArray.map((month, monthIndex) => {\r\n                        return (\r\n                            <MonthSection key={monthIndex} month={month} index={monthIndex} onSubmitDay={submitedDay}/>\r\n                        )\r\n                    })}\r\n                    <div style={{marginBottom: '10px'}}>\r\n                        <RangePicker onChange={changeMonth} picker=\"month\" bordered={false}/>\r\n                        <Button type=\"primary\" onClick={submitMonth}>Add</Button>\r\n                    </div>\r\n                    <div style={{ marginBottom: 16 }}>\r\n                        <Input addonBefore=\"Number of Spots\" defaultValue=\"5\" onChange={setNumSpot} />\r\n                    </div>\r\n                    <Button type=\"primary\" onClick={submitObj} loading={props.loading} style={{marginRight: '10px'}}>Submit</Button>\r\n\r\n                    <Button style={{marginBottom: '10px'}} type=\"dark\" onClick={reset}>Reset</Button>\r\n                    {props.error && <Alert message=\"Add spot failed\" type=\"error\"/>}\r\n                    {props.sendSuccessful && <Alert message=\"Add spot success\" type=\"success\"/>}\r\n                    {inputError.ifInputError && <Alert message={inputError.message} type=\"error\"/>}\r\n                </div>\r\n            </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPointPanel;\r\n","import React, { useState, useContext } from 'react';\r\nimport { Alert } from 'antd';\r\n\r\nimport AddPointMap from \"../components/AddPointMap\";\r\n\r\nimport styles from './AddPoint.module.css'\r\nimport AddPointPanel from \"../components/AddPointPanel\";\r\nimport { useHttpClient } from \"../../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../../shared/context/auth-context\";\r\n\r\nconst AddPoint = () => {\r\n    const [point,setPoint] = useState(null)\r\n    const [sendSuccessful, setSendSuccessful] = useState(false)\r\n\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient()\r\n    const auth = useContext(AuthContext)\r\n\r\n    const choosePoint = (info) => {\r\n        setPoint(info)\r\n    }\r\n\r\n    const submitMonth = (value, numSpots) => {\r\n        setPoint(prev => {\r\n            prev.limit = value\r\n            prev.numSpots = numSpots\r\n            // console.log('main main section',prev)\r\n            return prev\r\n        })\r\n        postPoint()\r\n    }\r\n\r\n    const postPoint = async() => {\r\n        console.log('send post point',point)\r\n        try {\r\n            const responseData = await sendRequest('spot/postSpot', 'POST',\r\n                JSON.stringify(point),\r\n                {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: 'Bearer ' + auth.token\r\n                }\r\n            )\r\n            if (!error) {\r\n                setSendSuccessful(true)\r\n\r\n                setTimeout(() => {\r\n                    setPoint(null)\r\n                    setSendSuccessful(false)\r\n                }, 5000)\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n            setTimeout(() => {\r\n                clearError()\r\n            },5000)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.pageWrapper}>\r\n\r\n            <AddPointMap onChoosePoint={choosePoint}/>\r\n            {point == null && <div className={styles.noInfoWrapper}>\r\n                <div className={styles.noInfoSection}>No point is choosen, please click on the map to choose a point</div>\r\n            </div>}\r\n            {point && <AddPointPanel point={point} error={error} sendSuccessful={sendSuccessful} loading={isLoading}\r\n                            onSubmitMonth={submitMonth}/>}\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPoint;\r\n","import logo from './logo.svg';\nimport './App.css';\nimport React, {useContext} from \"react\";\nimport {\n    HashRouter as Router,\n    Route,\n    Redirect,\n    Switch,\n    useHistory\n} from 'react-router-dom';\n\nimport {useAuth} from \"./shared/hooks/auth-hook\";\nimport {AuthContext} from \"./shared/context/auth-context\";\nimport Auth from \"./pages/user/pages/Auth\";\nimport Map from \"./pages/main/components/Map\";\nimport MainNavigation from \"./shared/components/Navigation/MainNavigation\";\nimport Main from \"./pages/main/pages/Main\";\nimport AddPoint from \"./pages/add-point/pages/AddPoint\";\n\nfunction App() {\n    const {token, logout, login, userId} = useAuth()\n    const auth = useContext(AuthContext)\n\n    let routes\n\n    if (!!token) {\n        routes = (\n            <Switch>\n                <Route path=\"/\" exact>\n                    <Main />\n                </Route>\n                <Route path=\"/add-point\">\n                    <AddPoint />\n                </Route>\n                <Redirect to=\"/\"/>\n            </Switch>\n        )\n    } else {\n        routes = (\n            <Switch>\n                <Route path=\"/\" exact>\n                    <Main />\n                </Route>\n\n                <Route path=\"/login\">\n                    <Auth />\n                </Route>\n                <Redirect to=\"/\"/>\n            </Switch>\n        )\n    }\n\n    return (\n        <AuthContext.Provider value={{\n            isLoggedIn: !!token,\n            token: token,\n            userId: userId,\n            login: login,\n            logout: logout\n        }}>\n            <Router>\n                <div style={{display: 'flex'}}>\n                    <MainNavigation/>\n                    {routes}\n                </div>\n\n            </Router>\n\n        </AuthContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport \"antd/dist/antd.css\";\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoCardWrapper\":\"PointInfoCard_infoCardWrapper__3j5eB\",\"dayWrapper\":\"PointInfoCard_dayWrapper__10XXc\",\"dayTitle\":\"PointInfoCard_dayTitle__3SaGm\",\"timeStyle\":\"PointInfoCard_timeStyle__2JlqC\",\"monthWrapper\":\"PointInfoCard_monthWrapper__bHqi9\",\"spliter\":\"PointInfoCard_spliter__N4MSR\",\"spotsWrapper\":\"PointInfoCard_spotsWrapper__3OxqH\",\"positionWrapper\":\"PointInfoCard_positionWrapper__lcjGg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterWrapper\":\"Filter_filterWrapper__1kWUk\",\"title\":\"Filter_title__5-qNQ\",\"inputsWrapper\":\"Filter_inputsWrapper__12LOi\",\"btnWrapper\":\"Filter_btnWrapper__-hGQM\"};"],"sourceRoot":""}